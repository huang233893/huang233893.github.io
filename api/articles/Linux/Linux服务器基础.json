{"title":"Linux 服务器指令基础","slug":"Linux/Linux服务器基础","date":"2024-05-27T07:21:46.000Z","updated":"2025-09-21T10:34:23.857Z","comments":true,"path":"api/articles/Linux/Linux服务器基础.json","excerpt":null,"covers":null,"content":"<h2 id=\"基础指令\"><a href=\"#基础指令\" class=\"headerlink\" title=\"基础指令\"></a>基础指令</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">查看文件目录：<span class=\"built_in\">pwd</span></span><br><span class=\"line\">查看当前目录下的所有目录和文件：<span class=\"built_in\">ls</span></span><br><span class=\"line\">查看当前目录下的所有目录和文件（包括隐藏的文件）：<span class=\"built_in\">ls</span> -a</span><br><span class=\"line\">列表查看当前目录下的所有目录和文件（列表查看，显示更多信息），与命令<span class=\"string\">&quot;ll&quot;</span>效果一样：<span class=\"built_in\">ls</span> -l</span><br><span class=\"line\">查看指定目录下的所有目录和文件：<span class=\"built_in\">ls</span> /xxx/xxx</span><br><span class=\"line\">进入文件目录：<span class=\"built_in\">cd</span></span><br><span class=\"line\">进入根目录：<span class=\"built_in\">cd</span> /</span><br><span class=\"line\">进入当前用户目录：<span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">退出目录：<span class=\"built_in\">cd</span> ..</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">创建文件夹：<span class=\"built_in\">mkdir</span></span><br><span class=\"line\">创建文件：<span class=\"built_in\">touch</span></span><br><span class=\"line\">设置权限：<span class=\"built_in\">chmod</span> xxx [文件目录]</span><br><span class=\"line\">删除文件：<span class=\"built_in\">rm</span> [文件名]</span><br><span class=\"line\">删除文件夹：<span class=\"built_in\">rm</span> -rf [文件目录]</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">立刻关机：shutdown -h now 或者 poweroff</span><br><span class=\"line\">两分钟后关机：shutdown -h 2</span><br><span class=\"line\">立刻重启：shutdown -r now 或者 reboot</span><br><span class=\"line\">两分钟后重启：shutdown -r 2 </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">type</span>：查看指令信息</span><br><span class=\"line\"><span class=\"built_in\">alias</span> 【别名】=‘原命令’：为原命令起别名（<span class=\"built_in\">unalias</span> 【别名】：删除该别名）</span><br><span class=\"line\">vim /root/.bashrc：对当前用户设置永久别名</span><br><span class=\"line\">vim /etc/bashrc：对所有用户设置永久别名</span><br><span class=\"line\">man xx：查看xx命令的帮助（详细信息）（按q退出）&#123;内容详情：（name：内容的名称）（synopsis：参数的大致使用方法）（descriotion：介绍说明）（examples：演示）（overview：概述）（defaults：默认的功能）（option：具体的可用选项）（environment：环境变量）（files：用到的文件）（see also：相关资料）（<span class=\"built_in\">history</span>：维护历史与联系方式）&#125;</span><br><span class=\"line\"><span class=\"built_in\">history</span>：显示历史执行过的命令（使用！编码数字可以重复执行一次该编码的命令）</span><br><span class=\"line\"><span class=\"built_in\">history</span> -c：清空所有命令的历史记录</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ctrl+r：快速搜索某命令</span><br><span class=\"line\">！$：引用上一个命令的参数</span><br><span class=\"line\">！【关键词】：重复上一个有此关键词的命令并执行</span><br><span class=\"line\">【命令1】 &amp;&amp; 【命令2】：先执行命令1后执行命令2，若命令1执行失败则不会执行命令2</span><br><span class=\"line\"><span class=\"built_in\">which</span> 【命令】:查看命令所在的绝对路径</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span>配置：（使用户a在xxx主机上可以以用户b的身份执行命令)</span><br><span class=\"line\">用vim进入/etc/sudoers</span><br><span class=\"line\">在末行按格式输入：用户a 主机=（用户b） 命令</span><br><span class=\"line\">例子：user2 ALL=（ALL）ALL,!/usr/bin/passwd：使user2在所有主机上都可以使用除passwd以外的所有命令</span><br><span class=\"line\"><span class=\"built_in\">sudo</span>的使用：<span class=\"built_in\">sudo</span> [完整的命令]</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"软件源配置\"><a href=\"#软件源配置\" class=\"headerlink\" title=\"软件源配置\"></a>软件源配置</h2><h3 id=\"更新软件源：\"><a href=\"#更新软件源：\" class=\"headerlink\" title=\"更新软件源：\"></a>更新软件源：</h3><p>RPM&#x2F;YUM系：<code>yum -y update</code><br>DEB&#x2F;APT系：<code>apt -y update</code></p>\n<h3 id=\"安装软件：\"><a href=\"#安装软件：\" class=\"headerlink\" title=\"安装软件：\"></a>安装软件：</h3><p>RPM&#x2F;YUM系：<code>yum -y install [软件名]</code><br>DEB&#x2F;APT系：<code>apt install -y [软件名]</code></p>\n<h3 id=\"搜索相应软件包：（以-sl-软件包作例子）\"><a href=\"#搜索相应软件包：（以-sl-软件包作例子）\" class=\"headerlink\" title=\"搜索相应软件包：（以 sl 软件包作例子）\"></a>搜索相应软件包：（以 sl 软件包作例子）</h3><p>RPM&#x2F;YUM系：<code>yum search sl</code><br>DEB&#x2F;APT系：<code>apt search sl</code></p>\n<h3 id=\"rpm-红帽软件包管理工具\"><a href=\"#rpm-红帽软件包管理工具\" class=\"headerlink\" title=\"rpm:(红帽软件包管理工具)\"></a>rpm:(红帽软件包管理工具)</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-i:安装，一般搭配vh</span><br><span class=\"line\">-U：升级</span><br><span class=\"line\">-v：输出详细详细</span><br><span class=\"line\">-V:校验软件包内的所有文件</span><br><span class=\"line\">-Va:校验所有安装的软件包</span><br><span class=\"line\">-h：输出哈希值</span><br><span class=\"line\">-e：卸载</span><br><span class=\"line\">-q [软件包名称]:查询</span><br><span class=\"line\">-qa：将所有rpm方式安装的软件全部列出</span><br><span class=\"line\">-qi：查询软件包详细信息</span><br><span class=\"line\">-ql：查询软件包相关目录和文件</span><br><span class=\"line\">-qf [文件的绝对路径]：反查某个文件关联的rpm包</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"定时任务\"><a href=\"#定时任务\" class=\"headerlink\" title=\"定时任务\"></a>定时任务</h2><h3 id=\"1-使用yum命令安装Crontab：\"><a href=\"#1-使用yum命令安装Crontab：\" class=\"headerlink\" title=\"1.使用yum命令安装Crontab：\"></a>1.使用yum命令安装Crontab：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install vixie-cron </span><br><span class=\"line\">yum install crontabs</span><br><span class=\"line\">注：vixie-cron软件包是cron的主程序；</span><br><span class=\"line\">crontabs软件包是用来安装、卸装、或列举用来驱动 cron 守护进程的表格的程序。</span><br><span class=\"line\">cron是linux的内置服务，但它不自动起来，可以用以下的方法启动、关闭这个服务：</span><br><span class=\"line\">/sbin/service crond start <span class=\"comment\">#启动服务</span></span><br><span class=\"line\">/sbin/service crond stop <span class=\"comment\">#关闭服务</span></span><br><span class=\"line\">/sbin/service crond restart <span class=\"comment\">#重启服务</span></span><br><span class=\"line\">/sbin/service crond reload <span class=\"comment\">#重新载入配置</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-查看Crontab状态：\"><a href=\"#2-查看Crontab状态：\" class=\"headerlink\" title=\"2.查看Crontab状态：\"></a><font style=\"color:rgb(77, 77, 77);\">2.查看Crontab状态：</font></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service crond status</span><br><span class=\"line\">ntsysv <span class=\"meta\">#查看crontab服务是否已设置为开机启动</span></span><br><span class=\"line\">chkconfig –level <span class=\"number\">35</span> crond <span class=\"keyword\">on</span> <span class=\"meta\">#加入开机自动启动</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-添加定时任务：\"><a href=\"#3-添加定时任务：\" class=\"headerlink\" title=\"3.添加定时任务：\"></a><font style=\"color:rgb(77, 77, 77);\">3.添加定时任务：</font></h3><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -e <span class=\"comment\">#编辑cron任务模式</span></span><br><span class=\"line\">i <span class=\"comment\">#默认文字编辑器为vim，按i字母键即可添加cron任务</span></span><br><span class=\"line\"><span class=\"number\">30</span> <span class=\"number\">3</span> * * * <span class=\"regexp\">/usr/local</span><span class=\"regexp\">/etc/rc</span>.d/lighttpd restart <span class=\"comment\">#将命令代码放入，此命令意义为每天的03:30 重启apache</span></span><br><span class=\"line\"><span class=\"variable constant_\">ESC</span> <span class=\"comment\">#按ESC键退出编辑模式</span></span><br><span class=\"line\"><span class=\"symbol\">:wq</span> <span class=\"comment\">#键入:wq保存</span></span><br><span class=\"line\">service crond restart <span class=\"comment\">#重启crontab服务</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"网络操作基础指令\"><a href=\"#网络操作基础指令\" class=\"headerlink\" title=\"网络操作基础指令\"></a>网络操作基础指令</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ifconfig [网卡名称] [参数]:查看网络配置（down：关闭网卡；up：开启网卡）（特别的,利用ifconfig修改ip地址：ifconfig [网卡名称] [ip地址] netmask [掩码],同时可用vim进入/etc/sysconfig/network-scripts直接修改ip地址等网卡信息)</span><br><span class=\"line\">修改后的网卡文件不会立即生效，需用命令：（nmcli connection up [网卡名称]）来重新连接网卡使配置生效</span><br><span class=\"line\">ping 网址：尝试连接该网站</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp （要传送文件的绝对路径）（传输给的用户)(传送用户的ip）（要传送目录的绝对路径):将文件直接发送给目标用户</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmcli：</span><br><span class=\"line\">nmcli c show:用于表示当前系统中所有的网络连接</span><br><span class=\"line\">nmcli c(=connection的简写) up [网卡名称]:启用connection（相当于ifup)</span><br><span class=\"line\">nmcli c down [网卡名称]:停止connection（相当于ifdown）</span><br><span class=\"line\">通过nmcil给[网卡名称]修改ip地址/掩码：nmcil connection modify [网卡名称] ipv4.address IP/掩码</span><br><span class=\"line\">防火墙设置：(在6.5系统中systemctl为service)</span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl status firewalld firewalld.service查看防火墙状态</span><br><span class=\"line\">systemctl stop firewalld：关闭防火墙</span><br><span class=\"line\">systemctl start firewalld：开启防火墙</span><br><span class=\"line\">systemctl <span class=\"built_in\">disable</span> firewalld:开机自动关闭</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> firewalld:开机自动启动</span><br><span class=\"line\">systemctl is-enabled firewalld:检测防火墙是否为自启动</span><br><span class=\"line\">systemctl iptables stop:关闭网络防火墙</span><br><span class=\"line\">systamctl :列出所有的系统服务</span><br><span class=\"line\">systemctl list-units:列出所有的unit</span><br><span class=\"line\">systemctl network restart</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget [下载网址] -O [下载文件的存放位置]:从网络上下载文件</span><br><span class=\"line\">nslookup [需要解析的域名]：测试能否解析到对应ip地址</span><br><span class=\"line\">curl [选项] [url]：从url上下载文件，访问网页，发送请求，上传文件等(-X:指定http请求方法，后接get，post，put等；-F：直接指定post指令要上传的文件;-u：设置用户名和密码进行HTTP基本认证;-o：将下载的内容保存到指定文件中;-O：将下载的内容保存到当前目录下的文件中，文件名与服务器端文件名相同)</span><br><span class=\"line\">lsof -i:[端口号]:查看端口对应进程的状态，可用来判断端口是否可用</span><br></pre></td></tr></table></figure>\n\n<p>iptables：<br>链可用于限制流量通过</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -L：查看规则链</span><br><span class=\"line\">iptables -F：清空规则链</span><br><span class=\"line\">iptables -P INPUT DROP/ACCRPT：将input的默认策略设置为拒绝/同意</span><br><span class=\"line\">iptables -D num INPUT：删除input的第num条规则</span><br><span class=\"line\">在头部添加新策略：（-I改为-A则为在末尾添加）</span><br><span class=\"line\">iptables -I INPUT（处理流入数据包的结点） -p  tcp/udp(匹配协议）-s 需要限制的ip地址  --dport 端口号 -j  DROP/REJEC/ACCEPT（丢弃or拒绝or同意）</span><br></pre></td></tr></table></figure>\n\n\n<p>firewall:</p>\n<p>firewall-cmd [参数为一般格式]</p>\n<p>参数:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--get-default-zone   查询默认的区域名称</span><br><span class=\"line\">--set-default-zone=&lt;区城名称&gt;    设置默认的区域，使其永久生效</span><br><span class=\"line\">--get-zones         显示可用的区域</span><br><span class=\"line\">--get-services      显示预先定义的服务</span><br><span class=\"line\">--get-active-zones         显示当前正在使用的区域与网卡名称</span><br><span class=\"line\">--add-source=               将源自此IP或子网的流量导向指定的区域</span><br><span class=\"line\">--remove-sourCe=            不再将源自此IP或子网的流量导向某个指定区域</span><br><span class=\"line\">--add-interface=&lt;网卡名称&gt;          将源自该网卡的所有流量都导向某个指定区域</span><br><span class=\"line\">--change-interface=&lt;网卡名称&gt;            将某个网卡与区域进行关联</span><br><span class=\"line\">--list-all                                  显示当前区域的网卡配置参数、资源、端口以及服务等信息</span><br><span class=\"line\">--list-all-zones                     显示所有区域的网卡配置参数、资源、端口以及服务等信息</span><br></pre></td></tr></table></figure>\n\n<p>默认为运行时模式（rentime）重启后就会失效，可添加–permanent将改设置直接为永久生效，若设置永久生效需使用–reload使其立即生效</p>\n<p><code>firewall-cmd --add-service=[需要放行的服务]：很实用的命令，可用于放行所需的服务，如http（移除：add改为remove）（也可将服务改为端口，端口后要加/tcp或udp</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address=[需要同意/拒绝的主机的ip地址]/32 service name=[需要同意/拒绝的服务] reject/accept&#39;同意/拒绝):拒绝来自该ip地址主机的流量对http服务的访问</code></p>\n<p>若无法操作则按以下格式输入</p>\n<p><code>firewall-cmd --zone=external --add-rich-rule &#39;rule family=ipv4 source address=192.168.10.11/32 service name=ssh accept&#39;</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address [需要同意/拒绝的网段，第四位为0] /24 port port [端口号范围，如20-22] protocol tcp/udp drop/accept/reject&#39;拒绝来自该网段的流量对该范围端口的访问</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address=[需要同意/拒绝的网段] protocol value=icmp accept/reject&#39;：过滤来自该网段的icmp探测，即让该网段无法ping通（不输入family....网段即为拒绝所有网段)</code></p>\n<hr>\n<h2 id=\"磁盘基础指令\"><a href=\"#磁盘基础指令\" class=\"headerlink\" title=\"磁盘基础指令\"></a>磁盘基础指令</h2><h3 id=\"mount-磁盘文件\"><a href=\"#mount-磁盘文件\" class=\"headerlink\" title=\"mount 磁盘文件\"></a>mount 磁盘文件</h3><ul>\n<li>挂目录：将磁盘临时挂载在目标路径上，重启后失效</li>\n<li>若要永久挂载需按格式将内容输入到&#x2F;etc&#x2F;fstab中</li>\n<li>umount 挂载点&#x2F;磁盘文件：撤销已经挂载的磁盘文件</li>\n</ul>\n<h3 id=\"fdisk-磁盘管理工具：\"><a href=\"#fdisk-磁盘管理工具：\" class=\"headerlink\" title=\"fdisk 磁盘管理工具：\"></a>fdisk 磁盘管理工具：</h3><h4 id=\"参数\"><a href=\"#参数\" class=\"headerlink\" title=\"参数:\"></a>参数:</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">m:查看全部可用的参数</span><br><span class=\"line\">n：添加新的分区</span><br><span class=\"line\">d：删除某个分区信息</span><br><span class=\"line\">l：列出所有可用的分区类型</span><br><span class=\"line\">p：查看分区信息</span><br><span class=\"line\">w：保存并推出</span><br><span class=\"line\">q：不保存直接退出</span><br></pre></td></tr></table></figure>\n\n<p>加入新磁盘后一定要设定分区后格式化</p>\n<p>设定分区流程：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk 磁盘文件路径（在/dev下）</span><br><span class=\"line\">q查看设备内已有的分区信息</span><br><span class=\"line\">n尝试添加新的分区</span><br><span class=\"line\">p创建主分区</span><br><span class=\"line\">输入1后enter回车</span><br><span class=\"line\">创建一个磁盘分区，格式为+numG，num为数字</span><br><span class=\"line\">p来查看分区信息</span><br><span class=\"line\">w保存退出</span><br><span class=\"line\">file 磁盘文件路径</span><br><span class=\"line\">若输出不是block special则输入</span><br><span class=\"line\">partprobe手动同步，连续执行两次该命令效果会更好</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"mkfs格式化工具：\"><a href=\"#mkfs格式化工具：\" class=\"headerlink\" title=\"mkfs格式化工具：\"></a>mkfs格式化工具：</h3><p>mkfs后跟文件类型，这里我们用mkfs.xfs<br>使用mkfs.xfs 磁盘文件路径</p>\n<p>创建一个文件，用mount将该磁盘挂载到该文件下<br>使用<code>df -h</code>查看是否成功</p>\n<p>lsblk:查看系统已经挂载的块设备和挂载点<br>df -h&#x2F;mount:查看当前系统已经挂载的文件系统及其挂载点<br>du 选项 文件:查看文件占用了多大的硬盘空间</p>\n<h3 id=\"磁盘配额\"><a href=\"#磁盘配额\" class=\"headerlink\" title=\"磁盘配额:\"></a>磁盘配额:</h3><p>对每个用户可使用的磁盘空间和创建最大文件个数进行限制<br>进行配置前需先进行以下操作<br>进入&#x2F;etc&#x2F;fstab在&#x2F;boot &#x2F;xfs后的参数defaults后添加,uquota<br>作用是让磁盘支持uquota技术<br>保存退出后重启<br>可用<code>mount | grep boot</code>查看是否成功配置<br>为了更好的显示效果可使用<code>chmod -Rf o+w /boot</code>为所有人赋予写入权限</p>\n<h4 id=\"命令：\"><a href=\"#命令：\" class=\"headerlink\" title=\"命令：\"></a>命令：</h4><p><code>xfs_quota -x -c &#39;limit bsoft=（需要软限制的大小，以m为单位）（空格）bhard=（需要硬限制的大小，以m为单位）(空格）isoft=（inode 的软限制数量）（空格）ihard=（inode的硬限制数量）（需要操作的用户）&#39;  （需要操作的文件夹）</code><br>配置用户对指定文件夹的限额，其中所有参数不可更改</p>\n<p><code>dd if=/dev/zero of=/（路径） bs=（需要创建的文件大小，以m为单位） count=（要复制的块数，即为inode数）</code><br>创建文件并用零字节将其填至指定大小，并复制指定数量的块</p>\n<p><code>edquota -u/g 用户/组</code><br>在已经使用xfs_quota指令配置过限额后才可使用，在其中可修改配额</p>\n<h3 id=\"软硬链接：\"><a href=\"#软硬链接：\" class=\"headerlink\" title=\"软硬链接：\"></a>软硬链接：</h3><h4 id=\"软连接：\"><a href=\"#软连接：\" class=\"headerlink\" title=\"软连接：\"></a>软连接：</h4><p>近似于创建源文件的快捷方式，源文件删除后该软链接也无法打开了</p>\n<h4 id=\"硬链接：\"><a href=\"#硬链接：\" class=\"headerlink\" title=\"硬链接：\"></a>硬链接：</h4><p>直接指向磁盘中的存储位置，会增加文件的inode数，源文件删除后依然可以使用</p>\n<p><code>ln 选项 源文件 链接文件 创建链接（选项为-s时为软连接，不加默认为硬链接）(其中链接文件不可提前创建否则会报错）（-f：强制创建文件或目录的链接，加了此参数可以无需在意是否提前创建链接文件；-i</code><br>覆盖前先询问；-v：显示创建链接的过程）</p>\n<hr>\n<h2 id=\"用户管理\"><a href=\"#用户管理\" class=\"headerlink\" title=\"用户管理\"></a>用户管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useradd [参数] [用户名]:创建用户（-c：指定用户的描述信息；-d：指定用户的主目录，该目录不用事先创建；-p:同时创建密码;-g：制定用户所属的主组，后接GID或组名；-G：制定用户所属的附属组，后接GID或组名；-s：指定用户的shell；-u：制定用户的uid）</span><br><span class=\"line\">usermod [参数] [用户名]:修改用户(-l:修改用户名；其他参数与usedadd相同)</span><br><span class=\"line\">userdel [参数] [用户名]:删除用户(-r:同时删除其主目录和邮箱,没加则会保留)</span><br><span class=\"line\">passwd [参数] [用户名]:管理用户密码（-d:删除用户密码；-l：锁定用户账户，即禁用账户;-u:解锁用户账户)</span><br><span class=\"line\">特别的：<span class=\"built_in\">echo</span> [密码] | passwd --stdin [用户]:利用管道直接修改密码</span><br><span class=\"line\"><span class=\"built_in\">id</span> [用户名]:查看用户信息</span><br><span class=\"line\">su [参数] [用户名]:切换用户（-或-l：初始化大部分环境变量，更改主目录，如同重新登陆一样，不加则为临时登陆）</span><br><span class=\"line\"><span class=\"built_in\">whoami</span>:查看当前用户</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"用户组管理\"><a href=\"#用户组管理\" class=\"headerlink\" title=\"用户组管理\"></a>用户组管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">groupadd [参数] [组名]:创建组(-g:指定组的GID)</span><br><span class=\"line\">groupmod [参数] [组名]:修改组(-g:修改GID;-n:修改组名）</span><br><span class=\"line\">groupdel [参数] [组名]:删除组</span><br><span class=\"line\">gpasswd [参数] [组名]:组的管理(不加参数:设置组的密码；-r：删除组的密码；-a：将用户加入到组中，成为组的成员；-d:将用户从组中移除；-A：将用户设置为组的管理员)</span><br><span class=\"line\"><span class=\"built_in\">groups</span> [组名]:查看用户隶属的组</span><br><span class=\"line\">newgrp：登录到其他组</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"进程管理\"><a href=\"#进程管理\" class=\"headerlink\" title=\"进程管理\"></a>进程管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps：查看系统中的进程状态</span><br><span class=\"line\">ps -a：显示所有进程</span><br><span class=\"line\">ps -u：用户以及其他详细信息</span><br><span class=\"line\">ps -x：显示没有控制终端的进程</span><br><span class=\"line\">top：用于动态监视进程活动与系统负载等信息</span><br><span class=\"line\">pidof：用于查询某个指定服务进程的PID值</span><br><span class=\"line\"><span class=\"built_in\">kill</span>：终止此PID值的活动进程</span><br><span class=\"line\">free -h：显示当前系统中内存的使用量信息</span><br><span class=\"line\">ctrl+c：终止前台的程序</span><br></pre></td></tr></table></figure>","more":"<h2 id=\"基础指令\"><a href=\"#基础指令\" class=\"headerlink\" title=\"基础指令\"></a>基础指令</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">查看文件目录：<span class=\"built_in\">pwd</span></span><br><span class=\"line\">查看当前目录下的所有目录和文件：<span class=\"built_in\">ls</span></span><br><span class=\"line\">查看当前目录下的所有目录和文件（包括隐藏的文件）：<span class=\"built_in\">ls</span> -a</span><br><span class=\"line\">列表查看当前目录下的所有目录和文件（列表查看，显示更多信息），与命令<span class=\"string\">&quot;ll&quot;</span>效果一样：<span class=\"built_in\">ls</span> -l</span><br><span class=\"line\">查看指定目录下的所有目录和文件：<span class=\"built_in\">ls</span> /xxx/xxx</span><br><span class=\"line\">进入文件目录：<span class=\"built_in\">cd</span></span><br><span class=\"line\">进入根目录：<span class=\"built_in\">cd</span> /</span><br><span class=\"line\">进入当前用户目录：<span class=\"built_in\">cd</span> ~</span><br><span class=\"line\">退出目录：<span class=\"built_in\">cd</span> ..</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">创建文件夹：<span class=\"built_in\">mkdir</span></span><br><span class=\"line\">创建文件：<span class=\"built_in\">touch</span></span><br><span class=\"line\">设置权限：<span class=\"built_in\">chmod</span> xxx [文件目录]</span><br><span class=\"line\">删除文件：<span class=\"built_in\">rm</span> [文件名]</span><br><span class=\"line\">删除文件夹：<span class=\"built_in\">rm</span> -rf [文件目录]</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">立刻关机：shutdown -h now 或者 poweroff</span><br><span class=\"line\">两分钟后关机：shutdown -h 2</span><br><span class=\"line\">立刻重启：shutdown -r now 或者 reboot</span><br><span class=\"line\">两分钟后重启：shutdown -r 2 </span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">type</span>：查看指令信息</span><br><span class=\"line\"><span class=\"built_in\">alias</span> 【别名】=‘原命令’：为原命令起别名（<span class=\"built_in\">unalias</span> 【别名】：删除该别名）</span><br><span class=\"line\">vim /root/.bashrc：对当前用户设置永久别名</span><br><span class=\"line\">vim /etc/bashrc：对所有用户设置永久别名</span><br><span class=\"line\">man xx：查看xx命令的帮助（详细信息）（按q退出）&#123;内容详情：（name：内容的名称）（synopsis：参数的大致使用方法）（descriotion：介绍说明）（examples：演示）（overview：概述）（defaults：默认的功能）（option：具体的可用选项）（environment：环境变量）（files：用到的文件）（see also：相关资料）（<span class=\"built_in\">history</span>：维护历史与联系方式）&#125;</span><br><span class=\"line\"><span class=\"built_in\">history</span>：显示历史执行过的命令（使用！编码数字可以重复执行一次该编码的命令）</span><br><span class=\"line\"><span class=\"built_in\">history</span> -c：清空所有命令的历史记录</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ctrl+r：快速搜索某命令</span><br><span class=\"line\">！$：引用上一个命令的参数</span><br><span class=\"line\">！【关键词】：重复上一个有此关键词的命令并执行</span><br><span class=\"line\">【命令1】 &amp;&amp; 【命令2】：先执行命令1后执行命令2，若命令1执行失败则不会执行命令2</span><br><span class=\"line\"><span class=\"built_in\">which</span> 【命令】:查看命令所在的绝对路径</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span>配置：（使用户a在xxx主机上可以以用户b的身份执行命令)</span><br><span class=\"line\">用vim进入/etc/sudoers</span><br><span class=\"line\">在末行按格式输入：用户a 主机=（用户b） 命令</span><br><span class=\"line\">例子：user2 ALL=（ALL）ALL,!/usr/bin/passwd：使user2在所有主机上都可以使用除passwd以外的所有命令</span><br><span class=\"line\"><span class=\"built_in\">sudo</span>的使用：<span class=\"built_in\">sudo</span> [完整的命令]</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"软件源配置\"><a href=\"#软件源配置\" class=\"headerlink\" title=\"软件源配置\"></a>软件源配置</h2><h3 id=\"更新软件源：\"><a href=\"#更新软件源：\" class=\"headerlink\" title=\"更新软件源：\"></a>更新软件源：</h3><p>RPM&#x2F;YUM系：<code>yum -y update</code><br>DEB&#x2F;APT系：<code>apt -y update</code></p>\n<h3 id=\"安装软件：\"><a href=\"#安装软件：\" class=\"headerlink\" title=\"安装软件：\"></a>安装软件：</h3><p>RPM&#x2F;YUM系：<code>yum -y install [软件名]</code><br>DEB&#x2F;APT系：<code>apt install -y [软件名]</code></p>\n<h3 id=\"搜索相应软件包：（以-sl-软件包作例子）\"><a href=\"#搜索相应软件包：（以-sl-软件包作例子）\" class=\"headerlink\" title=\"搜索相应软件包：（以 sl 软件包作例子）\"></a>搜索相应软件包：（以 sl 软件包作例子）</h3><p>RPM&#x2F;YUM系：<code>yum search sl</code><br>DEB&#x2F;APT系：<code>apt search sl</code></p>\n<h3 id=\"rpm-红帽软件包管理工具\"><a href=\"#rpm-红帽软件包管理工具\" class=\"headerlink\" title=\"rpm:(红帽软件包管理工具)\"></a>rpm:(红帽软件包管理工具)</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-i:安装，一般搭配vh</span><br><span class=\"line\">-U：升级</span><br><span class=\"line\">-v：输出详细详细</span><br><span class=\"line\">-V:校验软件包内的所有文件</span><br><span class=\"line\">-Va:校验所有安装的软件包</span><br><span class=\"line\">-h：输出哈希值</span><br><span class=\"line\">-e：卸载</span><br><span class=\"line\">-q [软件包名称]:查询</span><br><span class=\"line\">-qa：将所有rpm方式安装的软件全部列出</span><br><span class=\"line\">-qi：查询软件包详细信息</span><br><span class=\"line\">-ql：查询软件包相关目录和文件</span><br><span class=\"line\">-qf [文件的绝对路径]：反查某个文件关联的rpm包</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"定时任务\"><a href=\"#定时任务\" class=\"headerlink\" title=\"定时任务\"></a>定时任务</h2><h3 id=\"1-使用yum命令安装Crontab：\"><a href=\"#1-使用yum命令安装Crontab：\" class=\"headerlink\" title=\"1.使用yum命令安装Crontab：\"></a>1.使用yum命令安装Crontab：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install vixie-cron </span><br><span class=\"line\">yum install crontabs</span><br><span class=\"line\">注：vixie-cron软件包是cron的主程序；</span><br><span class=\"line\">crontabs软件包是用来安装、卸装、或列举用来驱动 cron 守护进程的表格的程序。</span><br><span class=\"line\">cron是linux的内置服务，但它不自动起来，可以用以下的方法启动、关闭这个服务：</span><br><span class=\"line\">/sbin/service crond start <span class=\"comment\">#启动服务</span></span><br><span class=\"line\">/sbin/service crond stop <span class=\"comment\">#关闭服务</span></span><br><span class=\"line\">/sbin/service crond restart <span class=\"comment\">#重启服务</span></span><br><span class=\"line\">/sbin/service crond reload <span class=\"comment\">#重新载入配置</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-查看Crontab状态：\"><a href=\"#2-查看Crontab状态：\" class=\"headerlink\" title=\"2.查看Crontab状态：\"></a><font style=\"color:rgb(77, 77, 77);\">2.查看Crontab状态：</font></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service crond status</span><br><span class=\"line\">ntsysv <span class=\"meta\">#查看crontab服务是否已设置为开机启动</span></span><br><span class=\"line\">chkconfig –level <span class=\"number\">35</span> crond <span class=\"keyword\">on</span> <span class=\"meta\">#加入开机自动启动</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-添加定时任务：\"><a href=\"#3-添加定时任务：\" class=\"headerlink\" title=\"3.添加定时任务：\"></a><font style=\"color:rgb(77, 77, 77);\">3.添加定时任务：</font></h3><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -e <span class=\"comment\">#编辑cron任务模式</span></span><br><span class=\"line\">i <span class=\"comment\">#默认文字编辑器为vim，按i字母键即可添加cron任务</span></span><br><span class=\"line\"><span class=\"number\">30</span> <span class=\"number\">3</span> * * * <span class=\"regexp\">/usr/local</span><span class=\"regexp\">/etc/rc</span>.d/lighttpd restart <span class=\"comment\">#将命令代码放入，此命令意义为每天的03:30 重启apache</span></span><br><span class=\"line\"><span class=\"variable constant_\">ESC</span> <span class=\"comment\">#按ESC键退出编辑模式</span></span><br><span class=\"line\"><span class=\"symbol\">:wq</span> <span class=\"comment\">#键入:wq保存</span></span><br><span class=\"line\">service crond restart <span class=\"comment\">#重启crontab服务</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"网络操作基础指令\"><a href=\"#网络操作基础指令\" class=\"headerlink\" title=\"网络操作基础指令\"></a>网络操作基础指令</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ifconfig [网卡名称] [参数]:查看网络配置（down：关闭网卡；up：开启网卡）（特别的,利用ifconfig修改ip地址：ifconfig [网卡名称] [ip地址] netmask [掩码],同时可用vim进入/etc/sysconfig/network-scripts直接修改ip地址等网卡信息)</span><br><span class=\"line\">修改后的网卡文件不会立即生效，需用命令：（nmcli connection up [网卡名称]）来重新连接网卡使配置生效</span><br><span class=\"line\">ping 网址：尝试连接该网站</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp （要传送文件的绝对路径）（传输给的用户)(传送用户的ip）（要传送目录的绝对路径):将文件直接发送给目标用户</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmcli：</span><br><span class=\"line\">nmcli c show:用于表示当前系统中所有的网络连接</span><br><span class=\"line\">nmcli c(=connection的简写) up [网卡名称]:启用connection（相当于ifup)</span><br><span class=\"line\">nmcli c down [网卡名称]:停止connection（相当于ifdown）</span><br><span class=\"line\">通过nmcil给[网卡名称]修改ip地址/掩码：nmcil connection modify [网卡名称] ipv4.address IP/掩码</span><br><span class=\"line\">防火墙设置：(在6.5系统中systemctl为service)</span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl status firewalld firewalld.service查看防火墙状态</span><br><span class=\"line\">systemctl stop firewalld：关闭防火墙</span><br><span class=\"line\">systemctl start firewalld：开启防火墙</span><br><span class=\"line\">systemctl <span class=\"built_in\">disable</span> firewalld:开机自动关闭</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> firewalld:开机自动启动</span><br><span class=\"line\">systemctl is-enabled firewalld:检测防火墙是否为自启动</span><br><span class=\"line\">systemctl iptables stop:关闭网络防火墙</span><br><span class=\"line\">systamctl :列出所有的系统服务</span><br><span class=\"line\">systemctl list-units:列出所有的unit</span><br><span class=\"line\">systemctl network restart</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget [下载网址] -O [下载文件的存放位置]:从网络上下载文件</span><br><span class=\"line\">nslookup [需要解析的域名]：测试能否解析到对应ip地址</span><br><span class=\"line\">curl [选项] [url]：从url上下载文件，访问网页，发送请求，上传文件等(-X:指定http请求方法，后接get，post，put等；-F：直接指定post指令要上传的文件;-u：设置用户名和密码进行HTTP基本认证;-o：将下载的内容保存到指定文件中;-O：将下载的内容保存到当前目录下的文件中，文件名与服务器端文件名相同)</span><br><span class=\"line\">lsof -i:[端口号]:查看端口对应进程的状态，可用来判断端口是否可用</span><br></pre></td></tr></table></figure>\n\n<p>iptables：<br>链可用于限制流量通过</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -L：查看规则链</span><br><span class=\"line\">iptables -F：清空规则链</span><br><span class=\"line\">iptables -P INPUT DROP/ACCRPT：将input的默认策略设置为拒绝/同意</span><br><span class=\"line\">iptables -D num INPUT：删除input的第num条规则</span><br><span class=\"line\">在头部添加新策略：（-I改为-A则为在末尾添加）</span><br><span class=\"line\">iptables -I INPUT（处理流入数据包的结点） -p  tcp/udp(匹配协议）-s 需要限制的ip地址  --dport 端口号 -j  DROP/REJEC/ACCEPT（丢弃or拒绝or同意）</span><br></pre></td></tr></table></figure>\n\n\n<p>firewall:</p>\n<p>firewall-cmd [参数为一般格式]</p>\n<p>参数:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">--get-default-zone   查询默认的区域名称</span><br><span class=\"line\">--set-default-zone=&lt;区城名称&gt;    设置默认的区域，使其永久生效</span><br><span class=\"line\">--get-zones         显示可用的区域</span><br><span class=\"line\">--get-services      显示预先定义的服务</span><br><span class=\"line\">--get-active-zones         显示当前正在使用的区域与网卡名称</span><br><span class=\"line\">--add-source=               将源自此IP或子网的流量导向指定的区域</span><br><span class=\"line\">--remove-sourCe=            不再将源自此IP或子网的流量导向某个指定区域</span><br><span class=\"line\">--add-interface=&lt;网卡名称&gt;          将源自该网卡的所有流量都导向某个指定区域</span><br><span class=\"line\">--change-interface=&lt;网卡名称&gt;            将某个网卡与区域进行关联</span><br><span class=\"line\">--list-all                                  显示当前区域的网卡配置参数、资源、端口以及服务等信息</span><br><span class=\"line\">--list-all-zones                     显示所有区域的网卡配置参数、资源、端口以及服务等信息</span><br></pre></td></tr></table></figure>\n\n<p>默认为运行时模式（rentime）重启后就会失效，可添加–permanent将改设置直接为永久生效，若设置永久生效需使用–reload使其立即生效</p>\n<p><code>firewall-cmd --add-service=[需要放行的服务]：很实用的命令，可用于放行所需的服务，如http（移除：add改为remove）（也可将服务改为端口，端口后要加/tcp或udp</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address=[需要同意/拒绝的主机的ip地址]/32 service name=[需要同意/拒绝的服务] reject/accept&#39;同意/拒绝):拒绝来自该ip地址主机的流量对http服务的访问</code></p>\n<p>若无法操作则按以下格式输入</p>\n<p><code>firewall-cmd --zone=external --add-rich-rule &#39;rule family=ipv4 source address=192.168.10.11/32 service name=ssh accept&#39;</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address [需要同意/拒绝的网段，第四位为0] /24 port port [端口号范围，如20-22] protocol tcp/udp drop/accept/reject&#39;拒绝来自该网段的流量对该范围端口的访问</code></p>\n<p><code>firewall-cmd --add-rich-rule &#39;rule family=ipv4 source address=[需要同意/拒绝的网段] protocol value=icmp accept/reject&#39;：过滤来自该网段的icmp探测，即让该网段无法ping通（不输入family....网段即为拒绝所有网段)</code></p>\n<hr>\n<h2 id=\"磁盘基础指令\"><a href=\"#磁盘基础指令\" class=\"headerlink\" title=\"磁盘基础指令\"></a>磁盘基础指令</h2><h3 id=\"mount-磁盘文件\"><a href=\"#mount-磁盘文件\" class=\"headerlink\" title=\"mount 磁盘文件\"></a>mount 磁盘文件</h3><ul>\n<li>挂目录：将磁盘临时挂载在目标路径上，重启后失效</li>\n<li>若要永久挂载需按格式将内容输入到&#x2F;etc&#x2F;fstab中</li>\n<li>umount 挂载点&#x2F;磁盘文件：撤销已经挂载的磁盘文件</li>\n</ul>\n<h3 id=\"fdisk-磁盘管理工具：\"><a href=\"#fdisk-磁盘管理工具：\" class=\"headerlink\" title=\"fdisk 磁盘管理工具：\"></a>fdisk 磁盘管理工具：</h3><h4 id=\"参数\"><a href=\"#参数\" class=\"headerlink\" title=\"参数:\"></a>参数:</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">m:查看全部可用的参数</span><br><span class=\"line\">n：添加新的分区</span><br><span class=\"line\">d：删除某个分区信息</span><br><span class=\"line\">l：列出所有可用的分区类型</span><br><span class=\"line\">p：查看分区信息</span><br><span class=\"line\">w：保存并推出</span><br><span class=\"line\">q：不保存直接退出</span><br></pre></td></tr></table></figure>\n\n<p>加入新磁盘后一定要设定分区后格式化</p>\n<p>设定分区流程：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fdisk 磁盘文件路径（在/dev下）</span><br><span class=\"line\">q查看设备内已有的分区信息</span><br><span class=\"line\">n尝试添加新的分区</span><br><span class=\"line\">p创建主分区</span><br><span class=\"line\">输入1后enter回车</span><br><span class=\"line\">创建一个磁盘分区，格式为+numG，num为数字</span><br><span class=\"line\">p来查看分区信息</span><br><span class=\"line\">w保存退出</span><br><span class=\"line\">file 磁盘文件路径</span><br><span class=\"line\">若输出不是block special则输入</span><br><span class=\"line\">partprobe手动同步，连续执行两次该命令效果会更好</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"mkfs格式化工具：\"><a href=\"#mkfs格式化工具：\" class=\"headerlink\" title=\"mkfs格式化工具：\"></a>mkfs格式化工具：</h3><p>mkfs后跟文件类型，这里我们用mkfs.xfs<br>使用mkfs.xfs 磁盘文件路径</p>\n<p>创建一个文件，用mount将该磁盘挂载到该文件下<br>使用<code>df -h</code>查看是否成功</p>\n<p>lsblk:查看系统已经挂载的块设备和挂载点<br>df -h&#x2F;mount:查看当前系统已经挂载的文件系统及其挂载点<br>du 选项 文件:查看文件占用了多大的硬盘空间</p>\n<h3 id=\"磁盘配额\"><a href=\"#磁盘配额\" class=\"headerlink\" title=\"磁盘配额:\"></a>磁盘配额:</h3><p>对每个用户可使用的磁盘空间和创建最大文件个数进行限制<br>进行配置前需先进行以下操作<br>进入&#x2F;etc&#x2F;fstab在&#x2F;boot &#x2F;xfs后的参数defaults后添加,uquota<br>作用是让磁盘支持uquota技术<br>保存退出后重启<br>可用<code>mount | grep boot</code>查看是否成功配置<br>为了更好的显示效果可使用<code>chmod -Rf o+w /boot</code>为所有人赋予写入权限</p>\n<h4 id=\"命令：\"><a href=\"#命令：\" class=\"headerlink\" title=\"命令：\"></a>命令：</h4><p><code>xfs_quota -x -c &#39;limit bsoft=（需要软限制的大小，以m为单位）（空格）bhard=（需要硬限制的大小，以m为单位）(空格）isoft=（inode 的软限制数量）（空格）ihard=（inode的硬限制数量）（需要操作的用户）&#39;  （需要操作的文件夹）</code><br>配置用户对指定文件夹的限额，其中所有参数不可更改</p>\n<p><code>dd if=/dev/zero of=/（路径） bs=（需要创建的文件大小，以m为单位） count=（要复制的块数，即为inode数）</code><br>创建文件并用零字节将其填至指定大小，并复制指定数量的块</p>\n<p><code>edquota -u/g 用户/组</code><br>在已经使用xfs_quota指令配置过限额后才可使用，在其中可修改配额</p>\n<h3 id=\"软硬链接：\"><a href=\"#软硬链接：\" class=\"headerlink\" title=\"软硬链接：\"></a>软硬链接：</h3><h4 id=\"软连接：\"><a href=\"#软连接：\" class=\"headerlink\" title=\"软连接：\"></a>软连接：</h4><p>近似于创建源文件的快捷方式，源文件删除后该软链接也无法打开了</p>\n<h4 id=\"硬链接：\"><a href=\"#硬链接：\" class=\"headerlink\" title=\"硬链接：\"></a>硬链接：</h4><p>直接指向磁盘中的存储位置，会增加文件的inode数，源文件删除后依然可以使用</p>\n<p><code>ln 选项 源文件 链接文件 创建链接（选项为-s时为软连接，不加默认为硬链接）(其中链接文件不可提前创建否则会报错）（-f：强制创建文件或目录的链接，加了此参数可以无需在意是否提前创建链接文件；-i</code><br>覆盖前先询问；-v：显示创建链接的过程）</p>\n<hr>\n<h2 id=\"用户管理\"><a href=\"#用户管理\" class=\"headerlink\" title=\"用户管理\"></a>用户管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">useradd [参数] [用户名]:创建用户（-c：指定用户的描述信息；-d：指定用户的主目录，该目录不用事先创建；-p:同时创建密码;-g：制定用户所属的主组，后接GID或组名；-G：制定用户所属的附属组，后接GID或组名；-s：指定用户的shell；-u：制定用户的uid）</span><br><span class=\"line\">usermod [参数] [用户名]:修改用户(-l:修改用户名；其他参数与usedadd相同)</span><br><span class=\"line\">userdel [参数] [用户名]:删除用户(-r:同时删除其主目录和邮箱,没加则会保留)</span><br><span class=\"line\">passwd [参数] [用户名]:管理用户密码（-d:删除用户密码；-l：锁定用户账户，即禁用账户;-u:解锁用户账户)</span><br><span class=\"line\">特别的：<span class=\"built_in\">echo</span> [密码] | passwd --stdin [用户]:利用管道直接修改密码</span><br><span class=\"line\"><span class=\"built_in\">id</span> [用户名]:查看用户信息</span><br><span class=\"line\">su [参数] [用户名]:切换用户（-或-l：初始化大部分环境变量，更改主目录，如同重新登陆一样，不加则为临时登陆）</span><br><span class=\"line\"><span class=\"built_in\">whoami</span>:查看当前用户</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"用户组管理\"><a href=\"#用户组管理\" class=\"headerlink\" title=\"用户组管理\"></a>用户组管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">groupadd [参数] [组名]:创建组(-g:指定组的GID)</span><br><span class=\"line\">groupmod [参数] [组名]:修改组(-g:修改GID;-n:修改组名）</span><br><span class=\"line\">groupdel [参数] [组名]:删除组</span><br><span class=\"line\">gpasswd [参数] [组名]:组的管理(不加参数:设置组的密码；-r：删除组的密码；-a：将用户加入到组中，成为组的成员；-d:将用户从组中移除；-A：将用户设置为组的管理员)</span><br><span class=\"line\"><span class=\"built_in\">groups</span> [组名]:查看用户隶属的组</span><br><span class=\"line\">newgrp：登录到其他组</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"进程管理\"><a href=\"#进程管理\" class=\"headerlink\" title=\"进程管理\"></a>进程管理</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps：查看系统中的进程状态</span><br><span class=\"line\">ps -a：显示所有进程</span><br><span class=\"line\">ps -u：用户以及其他详细信息</span><br><span class=\"line\">ps -x：显示没有控制终端的进程</span><br><span class=\"line\">top：用于动态监视进程活动与系统负载等信息</span><br><span class=\"line\">pidof：用于查询某个指定服务进程的PID值</span><br><span class=\"line\"><span class=\"built_in\">kill</span>：终止此PID值的活动进程</span><br><span class=\"line\">free -h：显示当前系统中内存的使用量信息</span><br><span class=\"line\">ctrl+c：终止前台的程序</span><br></pre></td></tr></table></figure>","categories":[{"name":"系统类","path":"api/categories/系统类.json"}],"tags":[{"name":"Linux","path":"api/tags/Linux.json"},{"name":"指令","path":"api/tags/指令.json"}]}