{"title":"EIGRP基础","slug":"CCNA/EIGRP基础","date":"2024-10-17T07:01:46.000Z","updated":"2025-08-02T10:16:12.992Z","comments":true,"path":"api/articles/CCNA/EIGRP基础.json","excerpt":null,"covers":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(4).png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(2).png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(1).png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(3).png"],"content":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>EIGRP是思科发明的一个私有路由协议，由IGRP发展而来，但是算法做了很大的改动。EIGRP和IGRP，RIP一样是一个采用D-V算法的动态路由协议，在收敛速度，占用网络带宽和系统资源等方面有了很大的改进，且有收敛快，无环路由计算，可以应用于大规模网络的优点。</p>\n<h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>高级距离矢量协议——具有距离矢量性和链路状态协议特征</li>\n<li>无类路由协议——可划分子网、可聚合子网路由</li>\n<li>支持VLSM与不连续子网</li>\n<li>100%无环路——DUAL算法</li>\n<li>快速收敛——路由条目用不更新，拥有备份路由</li>\n<li>触发更新</li>\n<li>低路由更新信息开销</li>\n<li>配置简单</li>\n<li>支持多种路由协议（IP、IPX、Appletalk、etc. ）</li>\n</ul>\n<h2 id=\"EIGRP的前身-IGRP\"><a href=\"#EIGRP的前身-IGRP\" class=\"headerlink\" title=\"EIGRP的前身 IGRP\"></a>EIGRP的前身 IGRP</h2><p>懒得打字了，直接上图</p>\n<p> <img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(4).png\"></p>\n<h2 id=\"三张表\"><a href=\"#三张表\" class=\"headerlink\" title=\"三张表\"></a>三张表</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(2).png\"></p>\n<ul>\n<li>IP EIGRP Neighbor Table（EIGRP邻居表）</li>\n<li>IP EIGRP Topology Table（EIGRP技术表）</li>\n<li>The IP Routing Table（路由表）</li>\n</ul>\n<h2 id=\"EIGRP数据包\"><a href=\"#EIGRP数据包\" class=\"headerlink\" title=\"EIGRP数据包\"></a>EIGRP数据包</h2><h3 id=\"Hello分组\"><a href=\"#Hello分组\" class=\"headerlink\" title=\"Hello分组\"></a>Hello分组</h3><p>以224.0.0.10发送，无需确认hello包</p>\n<p>EIGRP依靠分组来发现，验证和重新发现邻居router</p>\n<p>以固定时间发送hello包，改时间间隔与接口带宽有关</p>\n<p>LAN上默认为5S</p>\n<h3 id=\"更新\"><a href=\"#更新\" class=\"headerlink\" title=\"更新\"></a>更新</h3><p>EIGRP协议的这些更新数据包只在必要的时候传递必要的信息,而且仅仅传递给需要路由信息的路由器。当只有某一指定的路由器需要路由更新时,更新数据包就是单播发送的;当有多台路由器需要路由更新时,更新数据包就是组播发送的以可靠的方式发送，需要确认</p>\n<h3 id=\"查询\"><a href=\"#查询\" class=\"headerlink\" title=\"查询\"></a>查询</h3><p>当某条路由丢失，向邻居查询关于路由信息，通常靠组播方式发送，有时也用单播重传;可靠地发送</p>\n<h3 id=\"应答\"><a href=\"#应答\" class=\"headerlink\" title=\"应答\"></a>应答</h3><p>响应查询分组，单播;可靠方式发送</p>\n<h3 id=\"确认（ACK）\"><a href=\"#确认（ACK）\" class=\"headerlink\" title=\"确认（ACK）\"></a>确认（ACK）</h3><p>以单播发送的HELLO包(不包含数据)，包含确认号。用来确认更新、查询和应答。ACK本身不需确认。</p>\n<h2 id=\"EIGRP的Metric\"><a href=\"#EIGRP的Metric\" class=\"headerlink\" title=\"EIGRP的Metric\"></a>EIGRP的Metric</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(1).png\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(3).png\"></p>\n<ul>\n<li>默认K1 &#x3D; 1，K2 &#x3D; 0，K3 &#x3D; 1，K4 &#x3D; 0，K5 &#x3D; 0</li>\n<li>延迟取值沿路所有数据出接口（或路由入口）延迟的累加<ul>\n<li>DLY&#x3D;延迟（US）&#x2F;10 x 256</li>\n</ul>\n</li>\n<li>带宽取值沿路所有数据出接口（或路由入口）带宽的最低值<ul>\n<li>BW&#x3D;[10000000 &#x2F; 带宽（Kbps）] x 256</li>\n</ul>\n</li>\n<li>EIGRP路由metric默认为 延迟+带宽</li>\n</ul>\n<h2 id=\"DUAL算法\"><a href=\"#DUAL算法\" class=\"headerlink\" title=\"DUAL算法\"></a>DUAL算法</h2><ul>\n<li>Diffusing Update Algorithm 用于计算最佳无环路径和备用路径</li>\n</ul>\n<h3 id=\"特点-1\"><a href=\"#特点-1\" class=\"headerlink\" title=\"特点\"></a>特点</h3><ul>\n<li>无环拓扑</li>\n<li>可立即使用的无环备用路径</li>\n<li>快速收敛</li>\n<li>低带宽利用率（通过限定更新实现）</li>\n</ul>\n<h3 id=\"几个术语\"><a href=\"#几个术语\" class=\"headerlink\" title=\"几个术语\"></a>几个术语</h3><ul>\n<li>后继路由器</li>\n<li>可行距离（FD）</li>\n<li>可行后继路由器（FS）</li>\n<li>通告距离（AD）</li>\n<li>可行距离，或称可行性条件（FC）</li>\n</ul>\n<h3 id=\"后继与可行可行距离\"><a href=\"#后继与可行可行距离\" class=\"headerlink\" title=\"后继与可行可行距离\"></a>后继与可行可行距离</h3><ul>\n<li>后继路由器（Successors）：被实际选中作为到达一个目的地所使用的下一跳的路由器。该条路由保存在路由表中</li>\n<li>可行距离（Feasible distance）：计算出通向目的网络的最小度量</li>\n</ul>\n<h3 id=\"可行后继路由器及通告距离\"><a href=\"#可行后继路由器及通告距离\" class=\"headerlink\" title=\"可行后继路由器及通告距离\"></a>可行后继路由器及通告距离</h3><ul>\n<li>可行后继（Feasible Successor）是一条备份路由，只保存在拓扑表中。要成为可行后继，下一跳路由器前往某个特定网络的AD必须比当前后继的FD小</li>\n<li>通告距离（Advertise Distance）即为EIGRP邻居通向相同目的网络的他自己的可行距离</li>\n</ul>\n<p><code>符合了可行性条件（Feasible Condition）是指当邻居通向一个网络的通告距离（AD）比本地路由器通向同一个目的网络的可行距离短时。</code></p>\n<h2 id=\"EIGRP其他特性\"><a href=\"#EIGRP其他特性\" class=\"headerlink\" title=\"EIGRP其他特性\"></a>EIGRP其他特性</h2><h3 id=\"不等价负载均衡\"><a href=\"#不等价负载均衡\" class=\"headerlink\" title=\"不等价负载均衡\"></a>不等价负载均衡</h3><ul>\n<li>最多支持等价的路径的条数不同的IOS版本不同进行负载（默认是4条）</li>\n<li>可以通过maximum-paths修改</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router eigrp autonomous-system</span><br><span class=\"line\">Router(config-router)# network network-number [wildcard-mask]</span><br></pre></td></tr></table></figure>","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>EIGRP是思科发明的一个私有路由协议，由IGRP发展而来，但是算法做了很大的改动。EIGRP和IGRP，RIP一样是一个采用D-V算法的动态路由协议，在收敛速度，占用网络带宽和系统资源等方面有了很大的改进，且有收敛快，无环路由计算，可以应用于大规模网络的优点。</p>\n<h2 id=\"特点\"><a href=\"#特点\" class=\"headerlink\" title=\"特点\"></a>特点</h2><ul>\n<li>高级距离矢量协议——具有距离矢量性和链路状态协议特征</li>\n<li>无类路由协议——可划分子网、可聚合子网路由</li>\n<li>支持VLSM与不连续子网</li>\n<li>100%无环路——DUAL算法</li>\n<li>快速收敛——路由条目用不更新，拥有备份路由</li>\n<li>触发更新</li>\n<li>低路由更新信息开销</li>\n<li>配置简单</li>\n<li>支持多种路由协议（IP、IPX、Appletalk、etc. ）</li>\n</ul>\n<h2 id=\"EIGRP的前身-IGRP\"><a href=\"#EIGRP的前身-IGRP\" class=\"headerlink\" title=\"EIGRP的前身 IGRP\"></a>EIGRP的前身 IGRP</h2><p>懒得打字了，直接上图</p>\n<p> <img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(4).png\"></p>\n<h2 id=\"三张表\"><a href=\"#三张表\" class=\"headerlink\" title=\"三张表\"></a>三张表</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(2).png\"></p>\n<ul>\n<li>IP EIGRP Neighbor Table（EIGRP邻居表）</li>\n<li>IP EIGRP Topology Table（EIGRP技术表）</li>\n<li>The IP Routing Table（路由表）</li>\n</ul>\n<h2 id=\"EIGRP数据包\"><a href=\"#EIGRP数据包\" class=\"headerlink\" title=\"EIGRP数据包\"></a>EIGRP数据包</h2><h3 id=\"Hello分组\"><a href=\"#Hello分组\" class=\"headerlink\" title=\"Hello分组\"></a>Hello分组</h3><p>以224.0.0.10发送，无需确认hello包</p>\n<p>EIGRP依靠分组来发现，验证和重新发现邻居router</p>\n<p>以固定时间发送hello包，改时间间隔与接口带宽有关</p>\n<p>LAN上默认为5S</p>\n<h3 id=\"更新\"><a href=\"#更新\" class=\"headerlink\" title=\"更新\"></a>更新</h3><p>EIGRP协议的这些更新数据包只在必要的时候传递必要的信息,而且仅仅传递给需要路由信息的路由器。当只有某一指定的路由器需要路由更新时,更新数据包就是单播发送的;当有多台路由器需要路由更新时,更新数据包就是组播发送的以可靠的方式发送，需要确认</p>\n<h3 id=\"查询\"><a href=\"#查询\" class=\"headerlink\" title=\"查询\"></a>查询</h3><p>当某条路由丢失，向邻居查询关于路由信息，通常靠组播方式发送，有时也用单播重传;可靠地发送</p>\n<h3 id=\"应答\"><a href=\"#应答\" class=\"headerlink\" title=\"应答\"></a>应答</h3><p>响应查询分组，单播;可靠方式发送</p>\n<h3 id=\"确认（ACK）\"><a href=\"#确认（ACK）\" class=\"headerlink\" title=\"确认（ACK）\"></a>确认（ACK）</h3><p>以单播发送的HELLO包(不包含数据)，包含确认号。用来确认更新、查询和应答。ACK本身不需确认。</p>\n<h2 id=\"EIGRP的Metric\"><a href=\"#EIGRP的Metric\" class=\"headerlink\" title=\"EIGRP的Metric\"></a>EIGRP的Metric</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(1).png\"></p>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/EIGRP%20(3).png\"></p>\n<ul>\n<li>默认K1 &#x3D; 1，K2 &#x3D; 0，K3 &#x3D; 1，K4 &#x3D; 0，K5 &#x3D; 0</li>\n<li>延迟取值沿路所有数据出接口（或路由入口）延迟的累加<ul>\n<li>DLY&#x3D;延迟（US）&#x2F;10 x 256</li>\n</ul>\n</li>\n<li>带宽取值沿路所有数据出接口（或路由入口）带宽的最低值<ul>\n<li>BW&#x3D;[10000000 &#x2F; 带宽（Kbps）] x 256</li>\n</ul>\n</li>\n<li>EIGRP路由metric默认为 延迟+带宽</li>\n</ul>\n<h2 id=\"DUAL算法\"><a href=\"#DUAL算法\" class=\"headerlink\" title=\"DUAL算法\"></a>DUAL算法</h2><ul>\n<li>Diffusing Update Algorithm 用于计算最佳无环路径和备用路径</li>\n</ul>\n<h3 id=\"特点-1\"><a href=\"#特点-1\" class=\"headerlink\" title=\"特点\"></a>特点</h3><ul>\n<li>无环拓扑</li>\n<li>可立即使用的无环备用路径</li>\n<li>快速收敛</li>\n<li>低带宽利用率（通过限定更新实现）</li>\n</ul>\n<h3 id=\"几个术语\"><a href=\"#几个术语\" class=\"headerlink\" title=\"几个术语\"></a>几个术语</h3><ul>\n<li>后继路由器</li>\n<li>可行距离（FD）</li>\n<li>可行后继路由器（FS）</li>\n<li>通告距离（AD）</li>\n<li>可行距离，或称可行性条件（FC）</li>\n</ul>\n<h3 id=\"后继与可行可行距离\"><a href=\"#后继与可行可行距离\" class=\"headerlink\" title=\"后继与可行可行距离\"></a>后继与可行可行距离</h3><ul>\n<li>后继路由器（Successors）：被实际选中作为到达一个目的地所使用的下一跳的路由器。该条路由保存在路由表中</li>\n<li>可行距离（Feasible distance）：计算出通向目的网络的最小度量</li>\n</ul>\n<h3 id=\"可行后继路由器及通告距离\"><a href=\"#可行后继路由器及通告距离\" class=\"headerlink\" title=\"可行后继路由器及通告距离\"></a>可行后继路由器及通告距离</h3><ul>\n<li>可行后继（Feasible Successor）是一条备份路由，只保存在拓扑表中。要成为可行后继，下一跳路由器前往某个特定网络的AD必须比当前后继的FD小</li>\n<li>通告距离（Advertise Distance）即为EIGRP邻居通向相同目的网络的他自己的可行距离</li>\n</ul>\n<p><code>符合了可行性条件（Feasible Condition）是指当邻居通向一个网络的通告距离（AD）比本地路由器通向同一个目的网络的可行距离短时。</code></p>\n<h2 id=\"EIGRP其他特性\"><a href=\"#EIGRP其他特性\" class=\"headerlink\" title=\"EIGRP其他特性\"></a>EIGRP其他特性</h2><h3 id=\"不等价负载均衡\"><a href=\"#不等价负载均衡\" class=\"headerlink\" title=\"不等价负载均衡\"></a>不等价负载均衡</h3><ul>\n<li>最多支持等价的路径的条数不同的IOS版本不同进行负载（默认是4条）</li>\n<li>可以通过maximum-paths修改</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# router eigrp autonomous-system</span><br><span class=\"line\">Router(config-router)# network network-number [wildcard-mask]</span><br></pre></td></tr></table></figure>","categories":[{"name":"思科","path":"api/categories/思科.json"}],"tags":[{"name":"网络","path":"api/tags/网络.json"},{"name":"CCNA","path":"api/tags/CCNA.json"}]}