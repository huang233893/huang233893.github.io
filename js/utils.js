let anzhiyu={debounce:(n,a=0,o=!1)=>{let i;return(...e)=>{var t=o&&!i;clearTimeout(i),i=setTimeout(()=>{i=null,o||n(...e)},a),t&&n(...e)}},throttle:function(a,o,i={}){let s,r,l,c=0,u=()=>{c=!1===i.leading?0:(new Date).getTime(),s=null,a.apply(r,l),s||(r=l=null)};return(...e)=>{var t=(new Date).getTime(),n=(c||!1!==i.leading||(c=t),o-(t-c));r=this,l=e,n<=0||o<n?(s&&(clearTimeout(s),s=null),c=t,a.apply(r,l),s||(r=l=null)):s||!1===i.trailing||(s=setTimeout(u,n))}},sidebarPaddingR:()=>{var e=window.innerWidth,t=document.body.clientWidth;e!==t&&(document.body.style.paddingRight=e-t+"px")},snackbarShow:(e,t=!1,n=2e3,a=!1)=>{var{position:o,bgLight:i,bgDark:s}=GLOBAL_CONFIG.Snackbar,i="light"===document.documentElement.getAttribute("data-theme")?i:s;document.querySelector(":root").style.setProperty("--anzhiyu-snackbar-time",n+"ms"),Snackbar.show({text:e,backgroundColor:i,onActionClick:t,actionText:a,showAction:a,duration:n,pos:o,customClass:"snackbar-css"})},loadComment:(e,n)=>{if("IntersectionObserver"in window){let t=new IntersectionObserver(e=>{e[0].isIntersecting&&(n(),t.disconnect())},{threshold:[0]});t.observe(e)}else n()},scrollToDest:(a,o=500)=>{let i=window.pageYOffset;if("scrollBehavior"in document.documentElement.style)window.scrollTo({top:a,behavior:"smooth"});else{let n=null;a=+a,window.requestAnimationFrame(function e(t){t-=n=n||t;i<a?window.scrollTo(0,(a-i)*t/o+i):window.scrollTo(0,i-(i-a)*t/o),t<o?window.requestAnimationFrame(e):window.scrollTo(0,a)})}},initJustifiedGallery:function(e){let t=e=>{anzhiyu.isHidden(e)||fjGallery(e,{itemSelector:".fj-gallery-item",rowHeight:e.getAttribute("data-rowHeight"),gutter:4,onJustify:function(){this.$container.style.opacity="1"}})};0===Array.from(e).length?t(e):e.forEach(e=>{t(e)})},animateIn:(e,t)=>{e.style.display="block",e.style.animation=t},animateOut:(t,e)=>{t.addEventListener("animationend",function e(){t.style.display="",t.style.animation="",t.removeEventListener("animationend",e)}),t.style.animation=e},wrap:(e,t,n)=>{var a,o,i=document.createElement(t);for([a,o]of Object.entries(n))i.setAttribute(a,o);e.parentNode.insertBefore(i,e),i.appendChild(e)},isHidden:e=>0===e.offsetHeight&&0===e.offsetWidth,getEleTop:e=>{let t=e.offsetTop,n=e.offsetParent;for(;null!==n;)t+=n.offsetTop,n=n.offsetParent;return t},loadLightbox:e=>{var t=GLOBAL_CONFIG.lightbox;if("mediumZoom"===t){let n=mediumZoom(e);n.on("open",e=>{var t="dark"===document.documentElement.getAttribute("data-theme")?"#121212":"#fff";n.update({background:t})})}"fancybox"===t&&(Array.from(e).forEach(e=>{var t,n;"A"!==e.parentNode.tagName&&(t=e.dataset.lazySrc||e.src,n=e.title||e.alt||"",anzhiyu.wrap(e,"a",{href:t,"data-fancybox":"gallery","data-caption":n,"data-thumb":t}))}),window.fancyboxRun||(Fancybox.bind("[data-fancybox]",{Hash:!1,Thumbs:{autoStart:!1}}),window.fancyboxRun=!0))},setLoading:{add:e=>{e.insertAdjacentHTML("afterend",`
        <div class="loading-container">
          <div class="loading-item">
            <div></div><div></div><div></div><div></div><div></div>
          </div>
        </div>
      `)},remove:e=>{e.nextElementSibling.remove()}},updateAnchor:e=>{var t;e!==window.location.hash&&(e=e||location.pathname,t=GLOBAL_CONFIG_SITE.title,window.history.replaceState({url:location.href,title:t},t,e))},getScrollPercent:(e,t)=>{var n=t.clientHeight,a=document.documentElement.clientHeight,n=a<n?n-a:document.documentElement.scrollHeight-a,a=Math.round(100*((e-t.offsetTop)/n));return 100<a?100:a<=0?0:a},addGlobalFn:(e,t,n=!1,a=window)=>{var o=a.globalFn||{},i=o[e]||{};n&&i[n]||(i[n=n||Object.keys(i).length]=t,o[e]=i,a.globalFn=o)},addEventListenerPjax:(e,t,n,a=!1)=>{e.addEventListener(t,n,a),anzhiyu.addGlobalFn("pjax",()=>{e.removeEventListener(t,n,a)})},removeGlobalFnEvent:(e,t=window)=>{var{globalFn:n={}}=t;let a=n[e]||{};n=Object.keys(a);n.length&&(n.forEach(e=>{a[e]()}),delete t.globalFn[e])},changeThemeMetaColor:function(e){null!==themeColorMeta&&themeColorMeta.setAttribute("content",e)},initThemeColor:function(){let e=getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-bar-background").trim().replace('"',"").replace('"',"");26<(window.scrollY||document.documentElement.scrollTop)&&anzhiyu.is_Post()&&(e=getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-meta-theme-post-color").trim().replace('"',"").replace('"',"")),themeColorMeta.getAttribute("content")!==e&&this.changeThemeMetaColor(e)},is_Post:function(){return 0<=window.location.href.indexOf("/posts/")},addNavBackgroundInit:function(){var e=0,t=0;0!=(0<(e=$bodyWrap?$bodyWrap.scrollTop:e)-(t=document.documentElement?document.documentElement.scrollTop:t)?e:t)&&(pageHeaderEl.classList.add("nav-fixed"),pageHeaderEl.classList.add("nav-visible"))},downloadImage:function(e,o){rm.hideRightMenu(),0==rm.downloadimging?(rm.downloadimging=!0,anzhiyu.snackbarShow("æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å",!1,1e4),setTimeout(function(){let a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;e.getContext("2d").drawImage(a,0,0,a.width,a.height);var e=e.toDataURL("image/png"),t=document.createElement("a"),n=new MouseEvent("click");t.download=o||"photo",t.href=e,t.dispatchEvent(n)},a.src=e,anzhiyu.snackbarShow("å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®"),rm.downloadimging=!1},"10000")):anzhiyu.snackbarShow("æœ‰æ­£åœ¨è¿›è¡Œä¸­çš„ä¸‹è½½ï¼Œè¯·ç¨åå†è¯•")},stopImgRightDrag:function(){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++)e[t].addEventListener("dragstart",function(){return!1})},scrollTo:function(e){e=document.querySelector(e).offsetTop;window.scrollTo(0,e-80)},hideAsideBtn:()=>{var e=document.documentElement.classList;e.contains("hide-aside")?saveToLocal.set("aside-status","show",2):saveToLocal.set("aside-status","hide",2),e.toggle("hide-aside"),e.contains("hide-aside")?document.querySelector("#consoleHideAside").classList.add("on"):document.querySelector("#consoleHideAside").classList.remove("on")},switchCommentBarrage:function(){var e=document.querySelector(".comment-barrage");e&&("flex"===window.getComputedStyle(e).display?(e.style.display="none",anzhiyu.snackbarShow("âœ¨ å·²å…³é—­è¯„è®ºå¼¹å¹•"),document.querySelector(".menu-commentBarrage-text").textContent="æ˜¾ç¤ºçƒ­è¯„",document.querySelector("#consoleCommentBarrage").classList.remove("on"),localStorage.setItem("commentBarrageSwitch","false")):(e.style.display="flex",document.querySelector(".menu-commentBarrage-text").textContent="å…³é—­çƒ­è¯„",document.querySelector("#consoleCommentBarrage").classList.add("on"),anzhiyu.snackbarShow("âœ¨ å·²å¼€å¯è¯„è®ºå¼¹å¹•"),localStorage.removeItem("commentBarrageSwitch"))),rm&&rm.hideRightMenu()},initPaginationObserver:()=>{var e=document.getElementById("post-comment");let n=document.getElementById("pagination");e&&n&&new IntersectionObserver(e=>{let t=document.querySelector(".comment-barrage");e.forEach(e=>{e.isIntersecting?(n.classList.add("show-window"),t&&(t.style.bottom="-200px")):(n.classList.remove("show-window"),t&&(t.style.bottom="0px"))})}).observe(e)},initIndexEssay:function(){document.getElementById("bbTimeList")&&setTimeout(()=>{let e=new Swiper(".essay_bar_swiper_container",{passiveListeners:!0,direction:"vertical",loop:!0,autoplay:{disableOnInteraction:!0,delay:3e3},mousewheel:!0});var t=document.getElementById("bbtalk");null!==t&&(t.onmouseenter=function(){e.autoplay.stop()},t.onmouseleave=function(){e.autoplay.start()})},100)},scrollByMouseWheel:function(t,e){t.addEventListener("mousewheel",function(e){t.scrollLeft-=e.wheelDelta/2,e.preventDefault()},{passive:!1}),e&&(e.classList.add("selected"),t.scrollLeft=e.offsetLeft-t.offsetLeft-(t.offsetWidth-e.offsetWidth)/2)},catalogActive:function(){var e=document.getElementById("catalog-list");if(e){let t=decodeURIComponent(window.location.pathname);var a=e.querySelectorAll(".catalog-list-item");let n=null;a.forEach(e=>{t.startsWith(e.id)&&(n=e)}),anzhiyu.scrollByMouseWheel(e,n)}},tagsPageActive:function(){var e,t=document.getElementById("tag-page-tags");t&&(e=document.getElementById(decodeURIComponent(window.location.pathname)),anzhiyu.scrollByMouseWheel(t,e))},diffDate:function(e,t=!1,n=!1){var a,o,i=new Date,e=new Date(e),i=i.getTime()-e.getTime(),s=864e5;let r;return r=t?(t=i/s,a=i/36e5,o=i/6e4,1<=i/2592e6?e.toLocaleDateString().replace(/\//g,"-"):1<=t?parseInt(t)+" "+GLOBAL_CONFIG.date_suffix.day:1<=a?parseInt(a)+" "+GLOBAL_CONFIG.date_suffix.hour:1<=o?parseInt(o)+" "+GLOBAL_CONFIG.date_suffix.min:GLOBAL_CONFIG.date_suffix.just):n?(t=i/s,a=i/36e5,o=i/6e4,1<=i/2592e6?e.toLocaleDateString().replace(/\//g,"-"):1<=t&&t<=3?parseInt(t)+" "+GLOBAL_CONFIG.date_suffix.day:3<t?e.getMonth()+1+"/"+e.getDate():1<=a?parseInt(a)+" "+GLOBAL_CONFIG.date_suffix.hour:1<=o?parseInt(o)+" "+GLOBAL_CONFIG.date_suffix.min:GLOBAL_CONFIG.date_suffix.just):parseInt(i/s)},changeTimeInEssay:function(){document.querySelector("#bber")&&document.querySelectorAll("#bber time").forEach(function(e){var t=e.getAttribute("datetime");e.innerText=anzhiyu.diffDate(t,!0),e.style.display="inline"})},changeTimeInAlbumDetail:function(){document.querySelector("#album_detail")&&document.querySelectorAll("#album_detail time").forEach(function(e){var t=e.getAttribute("datetime");e.innerText=anzhiyu.diffDate(t,!0),e.style.display="inline"})},reflashEssayWaterFall:function(){let e=document.getElementById("waterfall");e&&setTimeout(function(){waterfall(e),e.classList.add("show")},800)},sayhi:function(){var e=document.getElementById("author-info__sayhi");e&&(e.innerHTML=(()=>{var e=(new Date).getHours();let t="";return 0<=e&&e<=5?t="ç¡ä¸ªå¥½è§‰ï¼Œä¿è¯ç²¾åŠ›å……æ²›":5<e&&e<=10?t="ä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨":10<e&&e<=14?t="åƒé¥±äº†æ‰æœ‰åŠ›æ°”å¹²æ´»":14<e&&e<=18?t="é›†ä¸­ç²¾åŠ›ï¼Œæ”»å…‹éš¾å…³":18<e&&e<=24&&(t="ä¸è¦å¤ªåŠ³ç´¯äº†ï¼Œæ—©ç¡æ›´å¥åº·"),t})())},addFriendLink(){var e,t=document.getElementsByClassName("el-textarea__inner")[0];t&&(e=new Event("input",{cancelable:!0,bubbles:!0}),t.value=this.getConfigIfPresent(GLOBAL_CONFIG.linkPageTop,"addFriendPlaceholder","æ˜µç§°ï¼ˆè¯·å‹¿åŒ…å«åšå®¢ç­‰å­—æ ·ï¼‰ï¼š\nç½‘ç«™åœ°å€ï¼ˆè¦æ±‚åšå®¢åœ°å€ï¼Œè¯·å‹¿æäº¤ä¸ªäººä¸»é¡µï¼‰ï¼š\nå¤´åƒå›¾ç‰‡urlï¼ˆè¯·æä¾›å°½å¯èƒ½æ¸…æ™°çš„å›¾ç‰‡ï¼Œæˆ‘ä¼šä¸Šä¼ åˆ°æˆ‘è‡ªå·±çš„å›¾åºŠï¼‰ï¼š\næè¿°ï¼š\nç«™ç‚¹æˆªå›¾ï¼ˆå¯é€‰ï¼‰ï¼š\n"),t.dispatchEvent(e),t.focus(),t.setSelectionRange(-1,-1))},getConfigIfPresent:function(e,t,n){return e&&e.hasOwnProperty(t)&&e[t]||n},musicToggle:function(e=!0){anzhiyu_musicFirst||(anzhiyu.musicBindEvent(),anzhiyu_musicFirst=!0);anzhiyu_musicPlaying?(navMusicEl.classList.remove("playing"),document.getElementById("menu-music-toggle").innerHTML='<i class="anzhiyufont anzhiyu-icon-play"></i><span>æ’­æ”¾éŸ³ä¹</span>',document.getElementById("nav-music-hoverTips").innerHTML="éŸ³ä¹å·²æš‚åœ",document.querySelector("#consoleMusic").classList.remove("on"),anzhiyu_musicPlaying=!1,navMusicEl.classList.remove("stretch")):(navMusicEl.classList.add("playing"),document.getElementById("menu-music-toggle").innerHTML='<i class="anzhiyufont anzhiyu-icon-pause"></i><span>æš‚åœéŸ³ä¹</span>',document.querySelector("#consoleMusic").classList.add("on"),anzhiyu_musicPlaying=!0,navMusicEl.classList.add("stretch")),e&&document.querySelector("#nav-music meting-js").aplayer.toggle(),rm&&rm.hideRightMenu()},musicTelescopic:function(){navMusicEl.classList.contains("stretch")?navMusicEl.classList.remove("stretch"):navMusicEl.classList.add("stretch")},musicSkipBack:function(){navMusicEl.querySelector("meting-js").aplayer.skipBack(),rm&&rm.hideRightMenu()},musicSkipForward:function(){navMusicEl.querySelector("meting-js").aplayer.skipForward(),rm&&rm.hideRightMenu()},musicGetName:function(){for(var e=document.querySelectorAll(".aplayer-title"),t=[],n=e.length-1;0<=n;n--)t[n]=e[n].innerText;return t[0]},initConsoleState:function(){document.documentElement.classList.contains("hide-aside")?document.querySelector("#consoleHideAside").classList.add("on"):document.querySelector("#consoleHideAside").classList.remove("on")},rewardShowConsole:function(){consoleEl.classList.add("reward-show"),anzhiyu.initConsoleState()},showConsole:function(){consoleEl.classList.add("show"),anzhiyu.initConsoleState()},hideConsole:function(){consoleEl.classList.contains("show")?consoleEl.classList.remove("show"):consoleEl.classList.contains("reward-show")&&consoleEl.classList.remove("reward-show");var e=document.getElementById("center-console");e.checked&&(e.checked=!1)},hideLoading:function(){document.getElementById("loading-box").classList.add("loaded")},cacheAndPlayMusic(){if(e=localStorage.getItem("musicData")){var e=JSON.parse(e);if((new Date).getTime()-e.timestamp<864e5)return void anzhiyu.playMusic(e.songs)}fetch("/json/music.json").then(e=>e.json()).then(e=>{var t={timestamp:(new Date).getTime(),songs:e};localStorage.setItem("musicData",JSON.stringify(t)),anzhiyu.playMusic(e)})},playMusic(t){var n=document.getElementById("anMusic-page").querySelector("meting-js").aplayer;let a=t[Math.floor(Math.random()*t.length)];var o,i=n.list.audios;if(selectRandomSong.includes(a.name)){let e=!1;for(;!e;){var s=t[Math.floor(Math.random()*t.length)];if(selectRandomSong.includes(s.name)||(n.list.add([s]),n.list.switch(i.length),selectRandomSong.push(s.name),e=!0),selectRandomSong.length===t.length)break}e||-1!=(o=i.findIndex(e=>e.name===a.name))&&n.list.switch(o)}else n.list.add([a]),n.list.switch(i.length),selectRandomSong.push(a.name);console.info("å·²éšæœºæ­Œæ›²ï¼š",selectRandomSong,"æœ¬æ¬¡éšæœºæ­Œæ›²ï¼š",a.name)},changeMusicBg:function(e=!0){var t=document.getElementById("an_music_bg");if(e){e=document.querySelector("#anMusic-page .aplayer-pic");t.style.backgroundImage=e.style.backgroundImage}else{let e=setInterval(()=>{document.querySelector("#anMusic-page .aplayer-pic")&&(clearInterval(e),anzhiyu.addEventListenerMusic(),anzhiyu.changeMusicBg(),document.querySelector("#nav-music meting-js").aplayer)&&!document.querySelector("#nav-music meting-js").aplayer.audio.paused&&anzhiyu.musicToggle()},100)}},getCustomPlayList:function(){var e,t,n;window.location.pathname.startsWith("/music/")&&(n=new URLSearchParams(window.location.search),e=document.getElementById("anMusic-page-meting"),n.get("id")&&n.get("server")?(t=n.get("id"),n=n.get("server"),e.innerHTML=`<meting-js id="${t}" server=${n} type="playlist" type="playlist" mutex="true" preload="auto" theme="var(--anzhiyu-main)" order="list" list-max-height="calc(100vh - 169px)!important"></meting-js>`):e.innerHTML='<meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="auto" theme="var(--anzhiyu-main)" order="list" list-max-height="calc(100vh - 169px)!important"></meting-js>',anzhiyu.changeMusicBg(!1))},hideTodayCard:function(){document.getElementById("todayCard")&&(document.getElementById("todayCard").classList.add("hide"),document.querySelector(".topGroup").querySelectorAll(".recent-post-item").forEach(e=>{e.style.display="flex"}))},addEventListenerMusic:function(){let t=document.getElementById("anMusic-page");var e=t.querySelector(".aplayer-info .aplayer-time .aplayer-icon-menu"),n=t.querySelector("#anMusicBtnGetSong"),a=t.querySelector("#anMusicRefreshBtn"),o=t.querySelector("#anMusicSwitching");let i=t.querySelector("meting-js").aplayer;i.volume(.8,!0),i.on("loadeddata",function(){anzhiyu.changeMusicBg()}),e.addEventListener("click",function(){document.getElementById("menu-mask").style.display="block",document.getElementById("menu-mask").style.animation="0.5s ease 0s 1 normal none running to_show",t.querySelector(".aplayer.aplayer-withlist .aplayer-list").style.opacity="1"}),document.getElementById("menu-mask").addEventListener("click",function e(){"/music/"!=window.location.pathname?document.getElementById("menu-mask").removeEventListener("click",e):t.querySelector(".aplayer-list").classList.remove("aplayer-list-hide")}),n.addEventListener("click",()=>{var e,t;changeMusicListFlag?(t=(e=document.getElementById("anMusic-page").querySelector("meting-js").aplayer).list.audios,t=Math.floor(Math.random()*t.length),e.list.switch(t)):anzhiyu.cacheAndPlayMusic()}),a.addEventListener("click",()=>{localStorage.removeItem("musicData"),anzhiyu.snackbarShow("å·²ç§»é™¤ç›¸å…³ç¼“å­˜æ­Œæ›²")}),o.addEventListener("click",()=>{anzhiyu.changeMusicList()}),"custom"===GLOBAL_CONFIG.music_page_default&&anzhiyu.changeMusicList(),document.addEventListener("keydown",function(e){"Space"===e.code&&(e.preventDefault(),i.toggle()),39===e.keyCode&&(e.preventDefault(),i.skipForward()),37===e.keyCode&&(e.preventDefault(),i.skipBack()),38===e.keyCode&&musicVolume<=1&&(musicVolume+=.1,i.volume(musicVolume,!0)),40===e.keyCode&&0<=musicVolume&&(musicVolume+=-.1,i.volume(musicVolume,!0))})},changeMusicList:async function(){var e,t=document.getElementById("anMusic-page").querySelector("meting-js").aplayer,n=(new Date).getTime(),a=JSON.parse(localStorage.getItem("musicData"))||{timestamp:0};let o=[];changeMusicListFlag?o=defaultPlayMusicList:(defaultPlayMusicList=t.list.audios,n-a.timestamp<864e5?o=a.songs:(e=await fetch("/json/music.json"),o=await e.json(),a.timestamp=n,a.songs=o,localStorage.setItem("musicData",JSON.stringify(a)))),t.list.clear(),t.list.add(o),changeMusicListFlag=!changeMusicListFlag},addEventListenerConsoleMusicList:function(){let a=document.getElementById("nav-music");a&&a.addEventListener("click",e=>{var t=a.querySelector(".aplayer-list"),n=a.querySelector("div.aplayer-info > div.aplayer-controller > div.aplayer-time.aplayer-time-narrow > button.aplayer-icon.aplayer-icon-menu svg");e.target!=n&&t.classList.contains("aplayer-list-hide")&&t.classList.remove("aplayer-list-hide")})},toPage:function(){var e=document.getElementById("toPageText"),t=document.getElementById("toPageButton"),n=document.querySelectorAll(".page-number"),n=Number(n[n.length-1].innerHTML),e=Number(e.value);!isNaN(e)&&1<=e&&Number.isInteger(e)?t.href=1===e?"/":"/page/"+(n<e?n:e)+"/":t.href="javascript:void(0);"},removeBodyPaceClass:function(){document.body.className="pace-done"},setValueToBodyType:function(){var e=document.getElementById("page-type").value;document.body.dataset.type=e},addRandomCommentInfo:function(){let e=""+adjectives[Math.floor(Math.random()*adjectives.length)]+vegetablesAndFruits[Math.floor(Math.random()*vegetablesAndFruits.length)];for(var t=["#author","input[name='comname']","#inpName","input[name='author']","#ds-dialog-name","#name","input[name='nick']","#comment_author"],n=["#mail","#email","input[name='commail']","#inpEmail","input[name='email']","#ds-dialog-email","input[name='mail']","#comment_email"],a=0;a<t.length;a++){var o=document.querySelector(t[a]);if(null!=o){o.value=e,o.dispatchEvent(new Event("input")),o.dispatchEvent(new Event("change"));break}}for(var i=0;i<n.length;i++){var s=document.querySelector(n[i]);if(null!=s){s.value=visitorMail,s.dispatchEvent(new Event("input")),s.dispatchEvent(new Event("change"));break}}var r=document.getElementsByClassName("el-textarea__inner")[0];r.focus(),r.setSelectionRange(-1,-1)},totraveling:function(){anzhiyu.snackbarShow("å³å°†è·³è½¬åˆ°ã€Œå¼€å¾€ã€é¡¹ç›®çš„æˆå‘˜åšå®¢ï¼Œä¸ä¿è¯è·³è½¬ç½‘ç«™çš„å®‰å…¨æ€§å’Œå¯ç”¨æ€§",e=>{e.style.opacity=0,travellingsTimer&&clearTimeout(travellingsTimer)},5e3,"å–æ¶ˆ"),travellingsTimer=setTimeout(function(){window.open("https://www.travellings.cn/go.html","_blank")},"5000")},replaceAll:function(e,t,n){return e.split(t).join(n)},musicBindEvent:function(){document.querySelector("#nav-music .aplayer-music").addEventListener("click",function(){anzhiyu.musicTelescopic()}),document.querySelector("#nav-music .aplayer-button").addEventListener("click",function(){anzhiyu.musicToggle(!1)})},hasMobile:function(){let e=!1;return e=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)||document.body.clientWidth<800?!0:e},qrcodeCreate:function(){document.getElementById("qrcode")&&(document.getElementById("qrcode").innerHTML="",new QRCode(document.getElementById("qrcode"),{text:window.location.href,width:250,height:250,colorDark:"#000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}))},isInViewPortOfOne:function(e){var t;if(e)return t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.offsetTop-document.documentElement.scrollTop<=t},addRewardMask:function(){document.querySelector(".reward-main")&&(document.querySelector(".reward-main").style.display="flex",document.querySelector(".reward-main").style.zIndex="102",document.getElementById("quit-box").style.display="flex")},removeRewardMask:function(){document.querySelector(".reward-main")&&(document.querySelector(".reward-main").style.display="none",document.getElementById("quit-box").style.display="none")},keyboardToggle:function(){var e=anzhiyu_keyboard;anzhiyu_keyboard=e?(document.querySelector("#consoleKeyboard").classList.remove("on"),!1):(document.querySelector("#consoleKeyboard").classList.add("on"),!0),localStorage.setItem("keyboardToggle",e?"false":"true")},rightMenuToggle:function(){window.oncontextmenu?window.oncontextmenu=null:!window.oncontextmenu&&oncontextmenuFunction&&(window.oncontextmenu=oncontextmenuFunction)},switchConsole:()=>{var e=document.getElementById("console"),e=(document.documentElement.classList.contains("hide-aside")?document.querySelector("#consoleHideAside").classList.add("on"):document.querySelector("#consoleHideAside").classList.remove("on"),e.classList.contains("show")?e.classList.remove("show"):e.classList.add("show"),document.querySelector("#consoleKeyboard"));e&&(anzhiyu_keyboard="true"===localStorage.getItem("keyboardToggle")?(e.classList.add("on"),!0):(e.classList.remove("on"),!1))},intersectionObserver:function(t,n){let e;return()=>(e?e.disconnect():e=new IntersectionObserver(e=>{e.forEach(e=>{(0<e.intersectionRatio?t:n)?.()})}),e)},scrollCategoryBarToRight:function(){var e,t=document.getElementById("catalog-list"),n=document.getElementById("category-bar-next");t&&n?(e=t.clientWidth,t.scrollLeft+t.clientWidth+1>=t.scrollWidth?(t.scroll({left:0,behavior:"smooth"}),n.innerHTML='<i class="anzhiyufont anzhiyu-icon-angle-double-right"></i>'):t.scrollBy({left:e,behavior:"smooth"})):console.error("Element(s) not found: 'catalog-list' and/or 'category-bar-next'.")},categoriesBarActive:function(){var e=decodeURIComponent(window.location.pathname),t=document.getElementById("category-bar");t&&("/"===e?t.querySelector("#é¦–é¡µ").classList.add("select"):/\/categories\/.*?\//.test(e)&&(e=e.split("/")[2],t.querySelector("#"+e).classList.add("select")))},topCategoriesBarScroll:function(){var e=document.getElementById("category-bar-items");e&&e.addEventListener("mousewheel",function(e){var t=-e.wheelDelta/2;this.scrollLeft+=t,e.preventDefault()})},switchRightClickMenuHotReview:function(){var e=document.getElementById("post-comment"),t=document.getElementById("menu-commentBarrage");t.style.display=e?"flex":"none"},changeSayHelloText:function(){var t=GLOBAL_CONFIG.authorStatus.skills,n=document.getElementById("author-info__sayhi");if(1===t.length)n.textContent=t[0];else{var a=n.textContent;let e=a;for(;e===a;)e=t[Math.floor(Math.random()*t.length)];n.textContent=e}}},anzhiyuPopupManager={queue:[],processing:!1,Jump:!1,enqueuePopup(e,t,n,a=3e3){this.queue.push({title:e,tip:t,url:n,duration:a}),this.processing||this.processQueue()},processQueue(){var e,t,n,a;0<this.queue.length&&!this.processing&&(this.processing=!0,{title:e,tip:t,url:n,duration:a}=this.queue.shift(),this.popupShow(e,t,n,a))},popupShow(n,a,o,i){let s=document.getElementById("popup-window");if(s){let e=s.querySelector(".popup-window-title");let t=s.querySelector(".popup-window-content").querySelector(".popup-tip");s.classList.contains("show-popup-window")&&s.classList.add("popup-hide"),setTimeout(()=>{s.removeEventListener("click",this.clickEventHandler),o?(window.pjax?this.clickEventHandler=e=>{e.preventDefault(),pjax.loadUrl(o),s.classList.remove("show-popup-window"),s.classList.remove("popup-hide"),this.Jump=!0,this.processing=!1,this.processQueue()}:this.clickEventHandler=()=>{window.location.href=o},s.addEventListener("click",this.clickEventHandler),s.classList.contains("no-url")&&s.classList.remove("no-url")):(s.classList.contains("no-url")||s.classList.add("no-url"),this.clickEventHandler=()=>{s.classList.add("popup-hide"),setTimeout(()=>{s.classList.remove("popup-hide"),s.classList.remove("show-popup-window")},1e3)},s.addEventListener("click",this.clickEventHandler)),s.classList.contains("popup-hide")&&s.classList.remove("popup-hide"),s.classList.add("show-popup-window"),e.textContent=n,t.textContent=a},800),setTimeout(()=>{o&&!this.Jump&&(this.Jump=!1),s.classList.contains("popup-hide")||""==s.className||s.classList.add("popup-hide"),this.processing=!1,this.processQueue()},i)}}},NaoKuo={setWelcome_info:async()=>{if(document.getElementById("welcome-info")){let o=saveToLocal.get("welcome-info");try{if(!o)return new Promise((t,n)=>{var a=document.createElement("script");a.src="https://apis.map.qq.com/ws/location/v1/ip?key=K2ABZ-XLVWW-NZNRD-3S5ST-QDHU5-LHFOI&output=jsonp",window.QQmap=e=>{0===e.status?(o=e,saveToLocal.set("welcome-info",o,.5),NaoKuo.showWelcome(o),t()):n(new Error("Failed to fetch location data")),document.body.removeChild(a),delete window.QQmap},document.body.appendChild(a)});await Promise.resolve(),NaoKuo.showWelcome(o)}catch(e){console.error("Error fetching data:",e)}}},getDistance:(e,t,n,a)=>{let{sin:o,cos:i,asin:s,PI:r,hypot:l}=Math;var c=(e,t)=>(e*=r/180,t*=r/180,{x:i(t)*i(e),y:i(t)*o(e),z:o(t)}),e=c(e,t),t=c(n,a),c=l(e.x-t.x,e.y-t.y,e.z-t.z),n=2*s(c/2)*6371;return Math.round(n)},showWelcome:e=>{var t=document.getElementById("welcome-info"),n=e.result.ip||"æœªçŸ¥";let a=NaoKuo.getDistance(113.11320599999999,23.02971699999999,e.result.location.lng,e.result.location.lat),o,i;switch(e.result.ad_info.nation){case"æ—¥æœ¬":i="ã“ã‚“ã«ã¡ã¯ã€æ—¥æœ¬ã‹ã‚‰æ¥ãŸå‹é”";break;case"ç¾å›½":i="Hello, friend from the United States";break;case"è‹±å›½":i="Hello, friend from the UK";break;case"ä¿„ç½—æ–¯":i="Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ, Ğ´Ñ€ÑƒĞ·ÑŒÑ Ğ¸Ğ· Ğ Ğ¾ÑÑĞ¸Ğ¸.";break;case"æ³•å›½":i="Bonjour amis de France";break;case"å¾·å›½":i="Hallo, Freund aus Deutschland";break;case"æ¾³å¤§åˆ©äºš":i="Hello, friend from Australia";break;case"åŠ æ‹¿å¤§":i="Hello, friend from Canada";break;case"ä¸­å›½":switch(o=e.result.ad_info.province+" "+e.result.ad_info.city,e.result.ad_info.province){case"åŒ—äº¬å¸‚":o="åŒ—äº¬å¸‚",i="åŒ—â€”â€”äº¬â€”â€”æ¬¢è¿ä½ ";break;case"å¤©æ´¥å¸‚":o="å¤©æ´¥å¸‚",i="è®²æ®µç›¸å£°å§";break;case"é‡åº†å¸‚":o="é‡åº†å¸‚",i="é«˜å¾·åœ°å›¾:å·²åˆ°è¾¾é‡åº†ï¼Œä¸‹é¢äº¤ç»™ç™¾åº¦åœ°å›¾å¯¼èˆª";break;case"æ²³åŒ—çœ":i="å±±åŠ¿å·å·æˆå£å’ï¼Œå¤©ä¸‹é›„å…³ã€‚é“é©¬é‡‘æˆˆç”±æ­¤å‘ï¼Œæ— é™æ±Ÿå±±";break;case"å±±è¥¿çœ":i="å±•å¼€åå…·é•¿ä¸‰å°ºï¼Œå·²å å±±æ²³äº”ç™¾ä½™";break;case"å†…è’™å¤è‡ªæ²»åŒº":i="å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ï¼Œé£å¹è‰ä½è§ç‰›ç¾Š";break;case"è¾½å®çœ":i="æˆ‘æƒ³åƒçƒ¤é¸¡æ¶";break;case"å‰æ—çœ":i="çŠ¶å…ƒé˜å°±æ˜¯ä¸œåŒ—çƒ§çƒ¤ä¹‹ç‹";break;case"é»‘é¾™æ±Ÿçœ":i="å¾ˆå–œæ¬¢å“ˆå°”æ»¨å¤§å‰§é™¢";break;case"ä¸Šæµ·å¸‚":o="ä¸Šæµ·å¸‚",i="ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸­å›½åªæœ‰ä¸¤ä¸ªåŸå¸‚";break;case"æ±Ÿè‹çœ":switch(e.result.ad_info.city){case"å—äº¬å¸‚":i="æ¬¢è¿æ¥è‡ªå®‰å¾½çœå—äº¬å¸‚çš„å°ä¼™ä¼´";break;case"è‹å·å¸‚":i="ä¸Šæœ‰å¤©å ‚ï¼Œä¸‹æœ‰è‹æ­";break;case"æ³°å·å¸‚":i="è¿™é‡Œä¹Ÿæ˜¯æˆ‘çš„æ•…ä¹¡";break;default:i="æ•£è£…æ˜¯å¿…é¡»è¦æ•£è£…çš„"}break;case"æµ™æ±Ÿçœ":i="ä¸œé£æ¸ç»¿è¥¿æ¹–æŸ³ï¼Œé›å·²è¿˜äººæœªå—å½’";break;case"å®‰å¾½çœ":i="èšŒåŸ ä½äº†ï¼ŒèŠœæ¹–èµ·é£";break;case"ç¦å»ºçœ":i="äº•é‚‘ç™½äº‘é—´ï¼Œå²©åŸè¿œå¸¦å±±";break;case"æ±Ÿè¥¿çœ":i="è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²";break;case"å±±ä¸œçœ":i="é¥æœ›é½å·ä¹ç‚¹çƒŸï¼Œä¸€æ³“æµ·æ°´æ¯ä¸­æ³»";break;case"æ¹–åŒ—çœ":i="æ¥ç¢—çƒ­å¹²é¢";break;case"æ¹–å—çœ":i="74751ï¼Œé•¿æ²™æ–¯å¡”å…‹";break;case"å¹¿ä¸œçœ":i="è€æ¿æ¥ä¸¤æ–¤ç¦å»ºäºº";break;case"å¹¿è¥¿å£®æ—è‡ªæ²»åŒº":i="æ¡‚æ—å±±æ°´ç”²å¤©ä¸‹";break;case"æµ·å—çœ":i="æœè§‚æ—¥å‡ºé€ç™½æµªï¼Œå¤•çœ‹äº‘èµ·æ”¶éœå…‰";break;case"å››å·çœ":i="åº·åº·å·å¦¹å­";break;case"è´µå·çœ":switch(e.result.ad_info.city){case"å…­ç›˜æ°´å¸‚":i="å‡‰éƒ½å…­ç›˜æ°´ï¼Œæ‚¨å¥½";break;case"è´µé˜³å¸‚":i="çˆ½çˆ½è´µé˜³ï¼Œæ‚¨å¥½";break;case"éµä¹‰å¸‚":i="éµä¹‰çº¢åŸï¼Œæ‚¨å¥½";break;case"å®‰é¡ºå¸‚":i="å®‰é¡ºç¦åœ°ï¼Œæ‚¨å¥½";break;case"æ¯•èŠ‚å¸‚":i="æ¯•èŠ‚å±±æ°´ï¼Œæ‚¨å¥½";break;case"é“œä»å¸‚":i="é“œä»æ¢µå‡€ï¼Œæ‚¨å¥½";break;case"é»”è¥¿å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·":i="é»”è¥¿å—é£æƒ…ï¼Œæ‚¨å¥½";break;case"é»”ä¸œå—è‹—æ—ä¾—æ—è‡ªæ²»å·":i="é»”ä¸œå—æ­Œèˆï¼Œæ‚¨å¥½";break;case"é»”å—å¸ƒä¾æ—è‹—æ—è‡ªæ²»å·":i="é»”å—ç¾æ™¯ï¼Œæ‚¨å¥½";break;default:i="èŒ…å°ï¼Œå­¦ç”Ÿï¼Œå†å¡200"}break;case"äº‘å—çœ":i="ç‰é¾™é£èˆäº‘ç¼ ç»•ï¼Œä¸‡ä»å†°å·ç›´è€¸å¤©";break;case"è¥¿è—è‡ªæ²»åŒº":i="èººåœ¨èŒ«èŒ«è‰åŸä¸Šï¼Œä»°æœ›è“å¤©";break;case"é™•è¥¿çœ":i="æ¥ä»½è‡Šå­é¢åŠ é¦";break;case"ç”˜è‚ƒçœ":i="ç¾Œç¬›ä½•é¡»æ€¨æ¨æŸ³ï¼Œæ˜¥é£ä¸åº¦ç‰é—¨å…³";break;case"é’æµ·çœ":i="ç‰›è‚‰å¹²å’Œè€é…¸å¥¶éƒ½å¥½å¥½åƒ";break;case"å®å¤å›æ—è‡ªæ²»åŒº":i="å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†";break;case"æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº":i="é©¼é“ƒå¤é“ä¸ç»¸è·¯ï¼Œèƒ¡é©¬çŠ¹é—»å”æ±‰é£";break;case"å°æ¹¾çœ":i="æˆ‘åœ¨è¿™å¤´ï¼Œå¤§é™†åœ¨é‚£å¤´";break;case"é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº":o="é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº",i="æ°¸å®šè´¼æœ‰æ®‹ç•™åœ°é¬¼åšï¼Œè¿å‡»å…‰éå²ç‰";break;case"æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº":o="æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº",i="æ€§æ„Ÿè·å®˜ï¼Œåœ¨çº¿å‘ç‰Œ";break;default:i="å¸¦æˆ‘å»ä½ çš„åŸå¸‚é€›é€›å§"}break;default:i="å¸¦æˆ‘å»ä½ çš„å›½å®¶çœ‹çœ‹å§"}let s,r=new Date;s=5<=r.getHours()&&r.getHours()<11?"<span>ğŸŒ¤ï¸ä¸Šåˆå¥½ï¼Œä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨</span>":11<=r.getHours()&&r.getHours()<13?"<span>â˜€ï¸ä¸­åˆå¥½ï¼Œè¯¥æ‘¸é±¼åƒåˆé¥­äº†</span>":13<=r.getHours()&&r.getHours()<15?"<span>ğŸ•ä¸‹åˆå¥½ï¼Œæ‡’æ‡’åœ°ç¡ä¸ªåˆè§‰å§</span>":15<=r.getHours()&&r.getHours()<16?"<span>ğŸµä¸‰ç‚¹å‡ å•¦ï¼Œé¥®èŒ¶å…ˆå•¦</span>":16<=r.getHours()&&r.getHours()<19?"<span>ğŸŒ‡å¤•é˜³æ— é™å¥½ï¼Œåªæ˜¯è¿‘é»„æ˜</span>":19<=r.getHours()&&r.getHours()<24?"<span>ğŸŒ”æ™šä¸Šå¥½ï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥</span>":"ğŸŒŒå¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯ï¼Œå°‘ç†¬å¤œ",t&&(t.innerHTML=`ğŸ™‹æ¬¢è¿æ¥è‡ª <strong>${o}</strong> çš„å°ä¼™ä¼´å‘¢<br>
    ğŸ˜Š<strong>${i}ï¼</strong><br>
    ğŸ—ºï¸æ‚¨è·ç¦» <strong>é…¥ç±³</strong> çº¦æœ‰ <strong>${a}</strong> å…¬é‡Œå“¦ï¼<br>
    å½“å‰IPåœ°å€ä¸ºï¼š<br>
    <strong style="font-size:12px;"><psw>${n}</psw></strong><br>
    <strong>${s}ï¼</strong>`)}};