(()=>{function n(e,t,r){var a=e.getTime()-t.getTime();switch(r){case"y":return parseInt(e.getFullYear()-t.getFullYear());case"M":return parseInt(12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth()));case"d":return Math.ceil(a/1e3/60/60/24);case"w":return Math.floor(a/1e3/60/60/24/7);case"h":return Math.floor(a/1e3/60/60);case"m":return Math.floor(a/1e3/60);case"s":return Math.floor(a/1e3);case"ms":return parseInt(a)}}function o(e,t,r,a,n){var o=d[t];if(!o)return!1;for(var u=e.getFullYear(),l=e.getMonth()+1,h=e.getDate(),t=u,i=o.length-1;0<i;i--){var s,f=i,m=Number(o[i].substring(0,2)),c=Number(o[i].substring(2,4)),p=(s=n&&12<m?m-12:m)<l||s==l&&c<=h||(m<=r||a<=m)&&n;if(12==s&&l<s&&1==i&&(p=!0,u--),p)break}return!!p&&(n&&12==m&&(u-=1),{year:u,month:s,day:c,lunarYear:n?t-1:t,lunarMonth:f,leapMonth:o[0]})}var d=[[8,"0131","0301","0331","0429","0528","0627","0726","0825","0924","1023","1122","1222","1320"],[0,"0219","0320","0419","0518","0616","0716","0814","0913","1012","1111","1211","1310"],[0,"0208","0310","0408","0508","0606","0705","0804","0902","1002","1031","1130","1230"],[5,"0129","0227","0329","0427","0527","0625","0724","0823","0921","1020","1119","1219","1317"],[0,"0216","0317","0416","0515","0614","0713","0811","0910","1009","1107","1207","1306"],[0,"0204","0306","0405","0504","0603","0703","0801","0830","0929","1028","1127","1226"],[4,"0125","0223","0325","0424","0523","0622","0721","0820","0918","1018","1116","1216","1314"],[0,"0213","0314","0413","0512","0611","0710","0809","0908","1007","1106","1205","1304"],[0,"0202","0303","0401","0430","0530","0629","0728","0827","0925","1025","1124","1223"],[2,"0122","0220","0322","0420","0519","0618","0717","0816","0914","1014","1113","1213","1311"],[0,"0210","0311","0410","0509","0607","0707","0805","0904","1003","1102","1202","1301"],[6,"0130","0301","0330","0429","0528","0626","0726","0824","0922","1022","1121","1220","1319"],[0,"0218","0319","0417","0517","0615","0714","0813","0911","1010","1109","1209","1307"],[0,"0206","0308","0407","0506","0605","0704","0802","0901","0930","1029","1128","1227"],[5,"0126","0225","0327","0425","0525","0623","0723","0821","0920","1019","1117","1217","1315"],[0,"0214","0316","0414","0514","0613","0712","0811","0909","1009","1107","1207","1305"],[0,"0203","0304","0403","0502","0601","0630","0730","0829","0927","1027","1125","1225"],[2,"0123","0222","0323","0421","0521","0619","0719","0818","0916","1016","1115","1214","1313"],[0,"0211","0313","0411","0510","0609","0708","0807","0905","1005","1104","1203","1302"],[7,"0201","0302","0401","0430","0529","0628","0727","0825","0924","1024","1122","1222","1321"],[0,"0220","0320","0419","0518","0616","0716","0814","0912","1012","1110","1210","1309"],[0,"0208","0310","0408","0508","0606","0705","0804","0902","1001","1031","1129","1229"],[5,"0128","0227","0328","0427","0527","0625","0724","0823","0921","1020","1119","1218","1317"],[0,"0216","0317","0416","0516","0614","0714","0812","0911","1010","1108","1208","1306"],[0,"0205","0305","0404","0504","0602","0702","0801","0830","0929","1028","1127","1226"],[4,"0124","0223","0324","0423","0522","0621","0721","0819","0918","1018","1116","1216","1314"],[0,"0213","0314","0412","0512","0610","0710","0808","0907","1007","1105","1205","1304"],[0,"0202","0304","0402","0501","0531","0629","0729","0827","0926","1025","1124","1224"],[2,"0123","0221","0322","0420","0519","0618","0717","0815","0914","1013","1112","1212","1311"],[0,"0210","0311","0410","0509","0607","0707","0805","0903","1003","1101","1201","1231"],[6,"0130","0228","0330","0429","0528","0626","0726","0824","0922","1022","1120","1220","1319"],[0,"0217","0319","0418","0517","0616","0715","0814","0912","1011","1110","1209","1308"],[0,"0206","0307","0406","0506","0604","0704","0802","0901","0930","1029","1128","1227"],[5,"0126","0224","0326","0425","0524","0623","0722","0821","0920","1019","1118","1217","1315"],[0,"0214","0315","0414","0513","0612","0712","0810","0909","1008","1107","1207","1305"],[0,"0204","0305","0403","0503","0601","0701","0730","0829","0928","1027","1126","1226"],[3,"0124","0223","0323","0421","0521","0619","0718","0817","0916","1015","1114","1214","1313"],[0,"0211","0313","0411","0510","0609","0708","0806","0905","1004","1103","1203","1302"],[7,"0131","0302","0401","0430","0529","0628","0727","0825","0924","1023","1122","1222","1320"],[0,"0219","0321","0420","0519","0617","0717","0815","0913","1013","1111","1211","1309"],[0,"0208","0309","0408","0507","0606","0705","0804","0902","1001","1031","1129","1229"],[6,"0127","0226","0328","0426","0526","0625","0724","0823","0921","1020","1119","1218","1317"],[0,"0215","0317","0415","0515","0614","0713","0812","0910","1010","1108","1208","1306"],[0,"0205","0306","0405","0504","0603","0702","0801","0831","0929","1029","1127","1227"],[4,"0125","0224","0324","0423","0522","0621","0720","0819","0917","1017","1116","1215","1314"],[0,"0213","0314","0412","0512","0610","0709","0808","0906","1006","1105","1205","1303"],[0,"0202","0304","0402","0501","0531","0629","0728","0827","0925","1025","1124","1223"],[2,"0122","0221","0323","0421","0520","0619","0718","0816","0915","1014","1113","1212","1311"],[0,"0210","0311","0409","0509","0607","0707","0805","0903","1003","1101","1201","1230"],[7,"0129","0228","0329","0428","0528","0626","0726","0824","0922","1022","1120","1220","1318"],[0,"0217","0318","0417","0517","0615","0715","0814","0912","1011","1110","1209","1308"],[0,"0206","0308","0406","0506","0605","0704","0803","0901","1001","1030","1129","1228"],[5,"0127","0225","0326","0424","0524","0622","0722","0820","0919","1019","1117","1217","1315"],[0,"0214","0315","0414","0513","0611","0711","0810","0908","1008","1107","1206","1305"],[0,"0203","0305","0403","0503","0601","0630","0730","0828","0927","1027","1126","1225"],[3,"0124","0222","0324","0422","0522","0620","0719","0818","0916","1016","1114","1214","1313"],[0,"0212","0312","0411","0510","0609","0708","0806","0905","1004","1103","1203","1301"],[8,"0131","0302","0331","0430","0529","0628","0727","0825","0924","1023","1122","1221","1320"],[0,"0218","0320","0419","0519","0617","0717","0815","0913","1013","1111","1211","1309"],[0,"0208","0309","0408","0508","0606","0706","0804","0903","1002","1101","1130","1230"],[6,"0128","0227","0327","0426","0525","0624","0724","0822","0921","1020","1119","1218","1317"],[0,"0215","0317","0415","0515","0613","0713","0811","0910","1010","1108","1208","1306"],[0,"0205","0306","0405","0504","0602","0702","0731","0830","0929","1028","1127","1227"],[4,"0125","0224","0325","0424","0523","0621","0721","0819","0918","1017","1116","1216","1315"],[0,"0213","0314","0412","0512","0610","0709","0808","0906","1006","1104","1204","1303"],[0,"0202","0303","0402","0501","0531","0629","0728","0827","0925","1024","1123","1223"],[3,"0121","0220","0322","0421","0520","0619","0718","0816","0915","1014","1112","1212","1311"],[0,"0209","0311","0410","0509","0608","0708","0806","0904","1004","1102","1202","1231"],[7,"0130","0228","0329","0427","0527","0626","0725","0824","0922","1022","1120","1220","1318"],[0,"0217","0318","0417","0516","0615","0714","0813","0912","1011","1110","1209","1308"],[0,"0206","0308","0406","0505","0604","0703","0802","0901","0930","1030","1129","1228"],[5,"0127","0225","0327","0425","0524","0623","0722","0821","0919","1019","1118","1218","1316"],[0,"0215","0315","0414","0513","0611","0711","0809","0908","1007","1106","1206","1304"],[0,"0203","0305","0403","0503","0601","0630","0730","0828","0926","1026","1125","1224"],[4,"0123","0222","0324","0422","0522","0620","0719","0818","0916","1015","1114","1214","1312"],[0,"0211","0313","0412","0511","0610","0709","0807","0906","1005","1103","1203","1301"],[8,"0131","0301","0331","0429","0529","0627","0727","0825","0924","1023","1121","1221","1319"],[0,"0218","0320","0418","0518","0617","0716","0815","0913","1013","1111","1211","1309"],[0,"0207","0309","0407","0507","0606","0705","0804","0902","1002","1101","1130","1230"],[6,"0128","0227","0328","0426","0526","0624","0724","0823","0921","1021","1120","1219","1318"],[0,"0216","0317","0415","0514","0613","0712","0811","0909","1009","1108","1207","1306"],[0,"0205","0306","0405","0504","0602","0702","0731","0829","0928","1028","1126","1226"],[4,"0125","0224","0325","0424","0523","0621","0721","0819","0917","1017","1115","1215","1314"],[0,"0213","0315","0413","0513","0611","0710","0809","0907","1006","1105","1204","1303"],[10,"0202","0303","0401","0501","0531","0629","0728","0827","0925","1024","1123","1222","1321"],[0,"0220","0321","0420","0520","0618","0718","0816","0915","1014","1112","1212","1310"],[0,"0209","0310","0409","0509","0607","0707","0806","0904","1004","1102","1202","1231"],[6,"0129","0228","0329","0428","0527","0626","0726","0824","0923","1023","1121","1221","1319"],[0,"0217","0318","0416","0516","0614","0714","0812","0911","1011","1109","1209","1308"],[0,"0206","0308","0406","0505","0604","0703","0802","0831","0930","1029","1128","1228"],[5,"0127","0225","0327","0425","0524","0623","0722","0820","0919","1018","1117","1217","1316"],[0,"0215","0316","0415","0514","0612","0712","0810","0908","1008","1106","1206","1305"],[0,"0204","0304","0403","0503","0601","0630","0730","0828","0926","1026","1124","1224"],[3,"0123","0221","0323","0422","0521","0620","0719","0818","0916","1015","1114","1213","1312"],[0,"0210","0312","0411","0511","0609","0709","0807","0906","1005","1103","1203","1301"],[8,"0131","0301","0331","0430","0529","0628","0727","0826","0925","1024","1122","1222","1320"],[0,"0219","0319","0418","0517","0616","0715","0814","0912","1012","1111","1211","1309"],[0,"0207","0309","0407","0507","0605","0705","0803","0902","1002","1031","1130","1230"],[5,"0128","0227","0328","0426","0526","0624","0723","0822","0921","1020","1119","1219","1317"],[0,"0216","0318","0416","0515","0614","0713","0811","0910","1009","1108","1208","1307"],[0,"0205","0306","0405","0504","0602","0702","0731","0829","0928","1027","1126","1226"],[4,"0124","0223","0325","0423","0523","0621","0721","0819","0917","1017","1115","1215","1313"],[0,"0212","0314","0413","0512","0611","0710","0809","0907","1006","1105","1204","1303"],[0,"0201","0303","0402","0501","0531","0630","0729","0828","0926","1025","1124","1223"],[2,"0122","0220","0321","0419","0519","0618","0717","0816","0914","1014","1112","1212","1310"],[0,"0209","0310","0409","0508","0607","0706","0805","0904","1003","1102","1201","1231"],[7,"0129","0228","0329","0428","0527","0626","0725","0824","0922","1022","1121","1220","1319"],[0,"0218","0319","0417","0517","0615","0714","0813","0911","1011","1110","1210","1308"],[0,"0207","0308","0406","0505","0604","0703","0801","0831","0929","1029","1128","1227"],[5,"0126","0225","0327","0425","0524","0623","0722","0820","0919","1018","1117","1216","1315"],[0,"0214","0316","0414","0514","0612","0712","0810","0908","1008","1106","1206","1304"],[0,"0203","0305","0403","0503","0602","0701","0731","0829","0927","1027","1125","1225"],[4,"0123","0222","0322","0421","0521","0619","0719","0817","0916","1015","1114","1213","1312"],[0,"0210","0312","0410","0510","0608","0708","0807","0905","1005","1103","1203","1301"],[9,"0131","0301","0331","0429","0529","0627","0727","0825","0924","1024","1122","1222","1320"],[0,"0219","0320","0419","0518","0616","0716","0814","0913","1013","1112","1211","1310"],[0,"0208","0309","0407","0507","0605","0704","0803","0901","1001","1031","1129","1229"],[6,"0128","0226","0328","0426","0526","0624","0723","0822","0920","1020","1118","1218","1317"],[0,"0216","0317","0416","0515","0614","0713","0811","0910","1009","1108","1207","1306"],[0,"0205","0307","0405","0505","0603","0703","0801","0830","0929","1028","1126","1226"],[4,"0125","0223","0324","0423","0523","0621","0721","0819","0917","1017","1115","1215","1313"],[0,"0212","0313","0412","0512","0610","0710","0808","0907","1006","1105","1204","1303"],[0,"0201","0303","0401","0501","0530","0629","0729","0827","0926","1025","1124","1223"],[2,"0122","0220","0322","0420","0519","0618","0718","0816","0915","1015","1113","1213","1311"],[0,"0210","0310","0409","0508","0606","0706","0804","0903","1003","1101","1201","1231"],[6,"0129","0228","0329","0428","0527","0625","0725","0823","0922","1021","1120","1220","1319"],[0,"0217","0319","0417","0517","0615","0714","0813","0911","1010","1109","1209","1308"],[0,"0206","0308","0407","0506","0605","0704","0802","0901","0930","1029","1128","1228"],[5,"0126","0225","0326","0425","0524","0623","0722","0820","0919","1018","1116","1216","1315"],[0,"0213","0315","0414","0513","0612","0711","0810","0908","1008","1106","1205","1304"],[0,"0203","0304","0403","0502","0601","0701","0730","0829","0927","1027","1125","1225"],[3,"0123","0221","0323","0422","0521","0620","0719","0818","0917","1016","1115","1214","1313"],[0,"0211","0312","0410","0509","0608","0707","0806","0905","1004","1103","1203","1301"],[7,"0131","0301","0331","0429","0528","0627","0726","0825","0923","1023","1122","1222","1320"],[0,"0219","0320","0419","0518","0616","0716","0814","0913","1012","1111","1211","1309"],[0,"0208","0310","0408","0508","0606","0705","0804","0902","1001","1031","1130","1229"],[6,"0128","0227","0328","0426","0526","0624","0723","0822","0920","1019","1118","1217","1316"],[0,"0215","0317","0416","0515","0614","0713","0811","0910","1009","1107","1207","1305"],[0,"0204","0306","0405","0504","0603","0702","0801","0830","0929","1028","1126","1226"],[5,"0124","0223","0325","0423","0523","0622","0721","0820","0918","1018","1116","1216","1314"],[0,"0212","0313","0411","0511","0610","0709","0808","0906","1006","1105","1204","1303"],[0,"0201","0302","0401","0430","0530","0628","0728","0827","0925","1025","1124","1223"],[2,"0122","0220","0322","0420","0519","0618","0717","0816","0914","1014","1113","1212","1311"],[0,"0210","0311","0410","0509","0607","0707","0805","0903","1003","1102","1201","1231"],[7,"0130","0229","0329","0428","0527","0625","0725","0823","0921","1021","1119","1219","1318"],[0,"0217","0319","0417","0517","0615","0714","0813","0911","1010","1109","1208","1307"],[0,"0206","0308","0406","0506","0604","0704","0802","0901","0930","1029","1128","1227"],[5,"0126","0225","0326","0425","0525","0623","0723","0821","0920","1019","1117","1217","1315"],[0,"0214","0314","0413","0513","0611","0711","0810","0908","1008","1106","1205","1304"],[0,"0202","0304","0402","0502","0531","0630","0730","0828","0927","1027","1125","1225"],[3,"0123","0221","0323","0421","0521","0619","0719","0817","0916","1016","1114","1214","1313"],[0,"0211","0313","0411","0510","0609","0708","0806","0905","1005","1103","1203","1302"],[8,"0201","0301","0331","0429","0528","0627","0726","0824","0923","1022","1121","1221","1320"],[0,"0219","0320","0419","0518","0616","0716","0814","0912","1012","1110","1210","1309"],[0,"0208","0309","0408","0508","0606","0705","0804","0902","1001","1031","1129","1229"],[6,"0128","0226","0328","0427","0526","0625","0724","0823","0921","1020","1119","1218","1317"],[0,"0215","0316","0415","0515","0613","0713","0811","0910","1009","1107","1207","1305"],[0,"0204","0305","0404","0504","0602","0702","0731","0830","0929","1028","1126","1226"],[4,"0124","0223","0324","0423","0522","0621","0720","0819","0918","1017","1116","1216","1314"],[0,"0212","0314","0412","0512","0610","0710","0808","0907","1006","1105","1205","1304"],[0,"0202","0303","0401","0501","0530","0628","0727","0826","0924","1024","1123","1223"],[3,"0121","0220","0322","0420","0519","0618","0717","0815","0914","1013","1112","1212","1311"],[0,"0209","0311","0410","0509","0607","0707","0805","0903","1003","1101","1201","1231"],[7,"0129","0228","0330","0428","0528","0626","0726","0824","0922","1022","1120","1220","1318"],[0,"0217","0318","0417","0516","0615","0714","0813","0911","1010","1109","1208","1307"],[0,"0205","0307","0406","0505","0604","0704","0802","0901","0930","1029","1128","1227"],[5,"0126","0224","0326","0424","0524","0623","0722","0821","0919","1019","1117","1217","1315"],[0,"0214","0315","0414","0513","0612","0711","0810","0909","1008","1107","1206","1305"],[0,"0203","0304","0402","0502","0531","0629","0729","0828","0926","1026","1125","1224"],[4,"0123","0221","0323","0421","0521","0619","0718","0817","0915","1015","1114","1214","1312"],[0,"0211","0312","0411","0510","0609","0708","0806","0905","1004","1103","1203","1301"],[8,"0131","0302","0331","0430","0529","0628","0727","0825","0924","1023","1122","1221","1320"],[0,"0219","0320","0418","0518","0616","0716","0814","0912","1012","1110","1210","1308"],[0,"0207","0309","0407","0507","0605","0704","0803","0901","0930","1030","1128","1228"],[6,"0126","0225","0326","0425","0525","0623","0723","0821","0920","1019","1118","1217","1316"],[0,"0214","0316","0414","0514","0612","0712","0811","0909","1009","1107","1207","1305"],[0,"0204","0304","0403","0502","0601","0630","0730","0828","0927","1027","1125","1225"],[0,"0123","0222","0323","0422","0521","0620","0719","0818","0917","1017","1115","1215"],[0,"0113","0212","0313","0412","0511","0609","0709","0807","0906","1006","1104","1204"],[0,"0103","0201","0303","0401","0501","0530","0628","0728","0826","0925","1024","1123"],[3,"1223","0122","0220","0321","0419","0519","0617","0716","0815","0913","1012","1111","1211"],[0,"0110","0208","0310","0409","0508","0607","0706","0804","0903","1002","1031","1130"],[7,"1230","0128","0227","0329","0428","0527","0625","0725","0823","0922","1021","1119","1219"],[0,"0118","0216","0318","0417","0516","0615","0714","0813","0911","1011","1109","1209"],[0,"0107","0206","0306","0405","0504","0603","0703","0801","0831","0929","1029","1127"],[5,"1227","0125","0224","0325","0423","0523","0622","0721","0820","0919","1018","1117","1216"],[0,"0115","0213","0315","0413","0512","0611","0710","0809","0908","1007","1106","1206"],[0,"0104","0203","0304","0403","0502","0531","0630","0729","0828","0926","1026","1125"],[4,"1225","0123","0222","0322","0421","0520","0618","0718","0816","0914","1014","1113","1213"],[0,"0111","0210","0312","0410","0510","0608","0707","0806","0904","1003","1102","1202"],[8,"1231","0130","0301","0331","0429","0529","0627","0726","0825","0923","1022","1121","1221"],[0,"0119","0218","0320","0418","0518","0616","0716","0814","0913","1012","1110","1210"],[0,"0108","0207","0308","0406","0506","0605","0704","0803","0901","1001","1030","1129"],[6,"1228","0126","0225","0327","0425","0525","0623","0723","0822","0920","1020","1118","1218"],[0,"0116","0214","0316","0414","0514","0612","0712","0811","0909","1009","1108","1207"],[0,"0106","0204","0306","0404","0503","0602","0701","0731","0829","0928","1028","1127"],[4,"1226","0125","0223","0324","0422","0521","0620","0719","0817","0916","1016","1115","1214"],[0,"0113","0212","0313","0412","0511","0609","0709","0807","0905","1005","1104","1203"],[0,"0102","0201","0303","0401","0501","0530","0628","0727","0826","0924","1024","1122"],[2,"1222","0121","0220","0321","0420","0520","0618","0717","0816","0914","1013","1112","1211"]],u=1900,h={};h.dateAdd=function(e,t){for(var r,a,n=(e=>{var e=e.match(/[+-]?\d+((ms)|[yMdhmsw])/g),t=[],r=0;if(r<e.length)return/([+-])(\d+)(.+)/.test(e[r])&&(e=parseInt(RegExp.$2),"-"===RegExp.$1&&(e=-e),t.push({value:e,unit:RegExp.$3})),t})(t),o=0;o<n.length;o++)r=e,a=n[o],e="M"==void 0?h.monthAdd(r,a):(h.lunarToSolar(r),h.solarToLunar(void 0));return e},h.dateDiff=function(e,t,r){return"M"==r?h.monthDiff(e,t):(e=h.lunarToSolar(e),t=h.lunarToSolar(t),n(t,e,r))},h.monthAdd=function(e,t){if(e instanceof Date&&(e=h.solarToLunar(e)),0==t)return e;for(var r,a=e.year,n=e.month,o=((e.leap||0<e.leapMonth&&e.month>e.leapMonth)&&n++,!0);n=(t=t+n-(r=h.monthsOfYear(a)))<=0?(o=!1,a==e.year?r+t:r+t-n):(a++,1),o;);var u=h.leapMonthOfYear(a),l=!1;return 0<u&&u<n&&(l=--n==u),{year:a,month:n,leap:l,leapMonth:u}},h.monthDiff=function(e,t){var r=0;if(e instanceof Date&&(e=h.solarToLunar(e)),t instanceof Date&&(t=h.solarToLunar(t)),e.year==t.year)r=t.month-e.month,e.leapMonth>=e.month&&e.leapMonth<=t.month&&r++;else{r=12,(e.leapMonth>e.month||e.leapMonth==e.month&&!e.isLeaMonth)&&(r+=1),r-=e.month;for(var a=e.year+1,n=a;n<t.year;n++)r+=h.monthsOfYear(a++);r+=t.month,(t.isLeapMonth||t.month<t.leapMonth)&&r++}return r},h.daysOfMonth=function(e,t,r){"object"==typeof e&&(t=e.month,r=e.leap,e=e.year);var a=h.lunarToSolar(e,t,1,r),e=(h.leapMonthOfYear(e)!=t||r?12==t?(e++,t=1):(r=!1,t++):r=!0,h.lunarToSolar(e,t,1,r));return h.dateDiff(e,a,"d")},h.monthsOfYear=function(e){return d[e-u].length-1},h.leapMonthOfYear=function(e){e=d[e-u];return e?e[0]:0},h.lunarToSolar=function(e,t,r,a){var n=arguments[0],n=("object"==typeof n&&1==arguments.length&&(e=n.year,t=n.month,r=n.day,a=n.leap),e-u);if(n<0||d.length<n)throw new Error("Specified date range is invalid.");var o=d[n][0],a=((a&&t==o||0<o&&o<t)&&(t+=1),d[n][t]),o=Number(a.substring(0,2)),n=Number(a.substring(2,4));12<o&&(e+=1,o-=12);t=new Date(e,o-1,n).getTime()+24*(r-1)*60*60*1e3;return new Date(t)},h.solarToLunar=function(e,t){var r=e.getFullYear()-u;if(r<=0||d.length<=r)throw new Error("Specified date range is invalid.");var a,r=o(e,r,0,13,!1)||o(e,r-1,12,99,!0);return!!r&&(a=new Date(r.year,r.month-1,r.day),e=n(e,a,"d")+1,a={leap:0<r.leapMonth&&r.leapMonth+1==r.lunarMonth,year:r.lunarYear,month:0<r.leapMonth&&r.lunarMonth>r.leapMonth?r.lunarMonth-1:r.lunarMonth,day:e,leapMonth:r.leapMonth},t&&a?h.format(a,t):a)},h.traditionalYearName=function(e){var t="甲乙丙丁戊己庚辛壬癸".split(""),r="子丑寅卯辰巳午未申酉戌亥".split("");return t[(e=e-u+36)%10]+r[e%12]+"年"},h.yearName=function(e){for(var t="〇,一,二,三,四,五,六,七,八,九".split(","),r=e.toString(),a="",n=0;n<r.length;n++)a+=t[parseInt(r.charAt(n))];return a+"年"},h.animalName=function(e){return"鼠牛虎兔龙蛇马羊猴鸡狗猪".split("")[(e-4)%12]},h.monthName=function(e,t,r){var a="正,二,三,四,五,六,七,八,九,十,十一,十二".split(",");return t&&(a[11]="腊"),(r?"闰":"")+a[e-1]+"月"},h.dayName=function(e){switch(e){case 10:return"初十";case 20:return"二十";case 30:return"三十";default:return"初十廿卅".split("")[Math.floor(e/10)]+"一二三四五六七八九十".split("")[(e-1)%10]||e}},h.format=function(r,e){return e.replace(/[TAYyMmdD]/g,function(e,t){switch(e){case"T":return h.traditionalYearName(r.year);case"A":return h.animalName(r.year);case"Y":return h.yearName(r.year);case"y":return r.year;case"m":return h.monthName(r.month,!1,r.leap);case"M":return h.monthName(r.month,!0,r.leap);case"d":return h.dayName(r.day);case"D":return 1==r.day?h.monthName(r.month,!1,r.leap):h.dayName(r.day)}})},"function"==typeof define?define(function(){return h}):"object"==typeof exports?module.exports=h:window.chineseLunar=h})();