{"title":"ACL基础","slug":"CCNA/ACL基础","date":"2024-10-17T07:01:46.000Z","updated":"2025-08-02T10:16:12.996Z","comments":true,"path":"api/articles/CCNA/ACL基础.json","excerpt":null,"covers":["https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image2be1cd78ae7434f9.png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-1ff33b348f14d7bdf.png","https://img.picgo.net/2024/11/19/image-2575da0debcc560ea.md.png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-2575da0debcc560ea.png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-4ac2cc35cbdfcb46c.png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-5e1632473fddc86b8.png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-6d383172498686b6a.png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-7042aa1fa1369eb38.png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-8a0301b67a2235fc3.png","https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-93289ca2dec660a11.png"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><ul>\n<li>访问控制列表ACL（Access Control List）是由一条或多条规则组成的集合。所谓规则，是指描述报文匹配条件的判断语句，这些条件可以是报文的源地址、目的地址、端口号等。</li>\n<li>ACL本质上是一种报文过滤器，规则是过滤器的滤芯。设备基于这些规则进行报文匹配，可以过滤出特定的报文，并根据应用ACL的业务模块的处理策略来允许或阻止该报文通过。</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image2be1cd78ae7434f9.png\"></p>\n<h2 id=\"为什么要用ACL\"><a href=\"#为什么要用ACL\" class=\"headerlink\" title=\"为什么要用ACL\"></a>为什么要用ACL</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-1ff33b348f14d7bdf.png\"></p>\n<ul>\n<li>ACL的两大主要功能</li>\n<li>流量控制</li>\n<li>匹配感兴趣流量</li>\n</ul>\n<h2 id=\"ACL的类型\"><a href=\"#ACL的类型\" class=\"headerlink\" title=\"ACL的类型\"></a>ACL的类型</h2><h3 id=\"标准访问控制列表\"><a href=\"#标准访问控制列表\" class=\"headerlink\" title=\"标准访问控制列表\"></a>标准访问控制列表</h3><ul>\n<li>检查源地址</li>\n<li>通常允许或拒绝整个协议套件</li>\n</ul>\n<h3 id=\"扩展访问控制列表\"><a href=\"#扩展访问控制列表\" class=\"headerlink\" title=\"扩展访问控制列表\"></a>扩展访问控制列表</h3><ul>\n<li>检查源地址和目标地址</li>\n<li>通常允许或拒绝特定的协议和应用</li>\n</ul>\n<h3 id=\"用于识别标准ACL和扩展ACL的两种方法\"><a href=\"#用于识别标准ACL和扩展ACL的两种方法\" class=\"headerlink\" title=\"用于识别标准ACL和扩展ACL的两种方法\"></a>用于识别标准ACL和扩展ACL的两种方法</h3><ul>\n<li>编号ACL使用一个数字来识别</li>\n<li>命名ACL使用描述性名称或数字来标识</li>\n</ul>\n<h3 id=\"标准访问控制列表-1\"><a href=\"#标准访问控制列表-1\" class=\"headerlink\" title=\"标准访问控制列表\"></a>标准访问控制列表</h3><ul>\n<li>只能根据源地址做过滤</li>\n<li>针对整个协议采取相关动作（允许或禁止）</li>\n</ul>\n<p><img src=\"https://img.picgo.net/2024/11/19/image-2575da0debcc560ea.md.png\"></p>\n<h2 id=\"扩展访问控制列表-1\"><a href=\"#扩展访问控制列表-1\" class=\"headerlink\" title=\"扩展访问控制列表\"></a>扩展访问控制列表</h2><ul>\n<li>能根据源、目的地地址、端口号等等进行过滤</li>\n<li>能允许或拒绝特定的协议</li>\n<li><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-2575da0debcc560ea.png\"></li>\n</ul>\n<h2 id=\"ACL的标示\"><a href=\"#ACL的标示\" class=\"headerlink\" title=\"ACL的标示\"></a>ACL的标示</h2><h3 id=\"IPv4-ACL\"><a href=\"#IPv4-ACL\" class=\"headerlink\" title=\"IPv4 ACL\"></a>IPv4 ACL</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-4ac2cc35cbdfcb46c.png\"></p>\n<h2 id=\"出站及入站\"><a href=\"#出站及入站\" class=\"headerlink\" title=\"出站及入站\"></a>出站及入站</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-5e1632473fddc86b8.png\"></p>\n<h3 id=\"入方向的ACL操作\"><a href=\"#入方向的ACL操作\" class=\"headerlink\" title=\"入方向的ACL操作\"></a>入方向的ACL操作</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-6d383172498686b6a.png\"></p>\n<h3 id=\"出方向的ACL操作\"><a href=\"#出方向的ACL操作\" class=\"headerlink\" title=\"出方向的ACL操作\"></a>出方向的ACL操作</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-7042aa1fa1369eb38.png\"></p>\n<h2 id=\"通配符\"><a href=\"#通配符\" class=\"headerlink\" title=\"通配符\"></a>通配符</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-8a0301b67a2235fc3.png\"></p>\n<ul>\n<li>0 表示严格匹配</li>\n<li>1 表示无所谓</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-93289ca2dec660a11.png\"></p>\n<h3 id=\"通配符缩写\"><a href=\"#通配符缩写\" class=\"headerlink\" title=\"通配符缩写\"></a>通配符缩写</h3><p>192.168.1.1 0.0.0.0\t\t\t&#x3D; host 192.168.1.1</p>\n<ul>\n<li>精确匹配192.16.1.1这个IP</li>\n</ul>\n<hr>\n<p>0.0.0.0 255.255.255.255 \t\t&#x3D; any</p>\n<ul>\n<li>匹配所有ip</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# access-list access-list-number &#123;permit|deny&#125; source [wildcard mask]</span><br><span class=\"line\">Router(config-if)# ip access-group access-list-number &#123;in|out&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>编号选择1-99</li>\n<li>通配符若无，默认0.0.0.0</li>\n<li><code>no access-list _access-list-number_</code>将会删除整个ACL列表</li>\n<li>在接口中应用</li>\n<li>应用时关联入或出站方向</li>\n<li>默认出站</li>\n<li><code>no ip access-group _access-list-number_</code>可移除接口上应用的访问列表</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# access-list access-list-number &#123;permit|deny&#125; protocol source source-wildcard [operator port] destination destination-wildcard [operator port] [established] [log]</span><br><span class=\"line\">Router(config-if)# ip access-group access-list-number &#123;in|out&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>在接口中应用</li>\n<li>应用时关联入或出站方向</li>\n</ul>\n","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><ul>\n<li>访问控制列表ACL（Access Control List）是由一条或多条规则组成的集合。所谓规则，是指描述报文匹配条件的判断语句，这些条件可以是报文的源地址、目的地址、端口号等。</li>\n<li>ACL本质上是一种报文过滤器，规则是过滤器的滤芯。设备基于这些规则进行报文匹配，可以过滤出特定的报文，并根据应用ACL的业务模块的处理策略来允许或阻止该报文通过。</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image2be1cd78ae7434f9.png\"></p>\n<h2 id=\"为什么要用ACL\"><a href=\"#为什么要用ACL\" class=\"headerlink\" title=\"为什么要用ACL\"></a>为什么要用ACL</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-1ff33b348f14d7bdf.png\"></p>\n<ul>\n<li>ACL的两大主要功能</li>\n<li>流量控制</li>\n<li>匹配感兴趣流量</li>\n</ul>\n<h2 id=\"ACL的类型\"><a href=\"#ACL的类型\" class=\"headerlink\" title=\"ACL的类型\"></a>ACL的类型</h2><h3 id=\"标准访问控制列表\"><a href=\"#标准访问控制列表\" class=\"headerlink\" title=\"标准访问控制列表\"></a>标准访问控制列表</h3><ul>\n<li>检查源地址</li>\n<li>通常允许或拒绝整个协议套件</li>\n</ul>\n<h3 id=\"扩展访问控制列表\"><a href=\"#扩展访问控制列表\" class=\"headerlink\" title=\"扩展访问控制列表\"></a>扩展访问控制列表</h3><ul>\n<li>检查源地址和目标地址</li>\n<li>通常允许或拒绝特定的协议和应用</li>\n</ul>\n<h3 id=\"用于识别标准ACL和扩展ACL的两种方法\"><a href=\"#用于识别标准ACL和扩展ACL的两种方法\" class=\"headerlink\" title=\"用于识别标准ACL和扩展ACL的两种方法\"></a>用于识别标准ACL和扩展ACL的两种方法</h3><ul>\n<li>编号ACL使用一个数字来识别</li>\n<li>命名ACL使用描述性名称或数字来标识</li>\n</ul>\n<h3 id=\"标准访问控制列表-1\"><a href=\"#标准访问控制列表-1\" class=\"headerlink\" title=\"标准访问控制列表\"></a>标准访问控制列表</h3><ul>\n<li>只能根据源地址做过滤</li>\n<li>针对整个协议采取相关动作（允许或禁止）</li>\n</ul>\n<p><img src=\"https://img.picgo.net/2024/11/19/image-2575da0debcc560ea.md.png\"></p>\n<h2 id=\"扩展访问控制列表-1\"><a href=\"#扩展访问控制列表-1\" class=\"headerlink\" title=\"扩展访问控制列表\"></a>扩展访问控制列表</h2><ul>\n<li>能根据源、目的地地址、端口号等等进行过滤</li>\n<li>能允许或拒绝特定的协议</li>\n<li><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-2575da0debcc560ea.png\"></li>\n</ul>\n<h2 id=\"ACL的标示\"><a href=\"#ACL的标示\" class=\"headerlink\" title=\"ACL的标示\"></a>ACL的标示</h2><h3 id=\"IPv4-ACL\"><a href=\"#IPv4-ACL\" class=\"headerlink\" title=\"IPv4 ACL\"></a>IPv4 ACL</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-4ac2cc35cbdfcb46c.png\"></p>\n<h2 id=\"出站及入站\"><a href=\"#出站及入站\" class=\"headerlink\" title=\"出站及入站\"></a>出站及入站</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-5e1632473fddc86b8.png\"></p>\n<h3 id=\"入方向的ACL操作\"><a href=\"#入方向的ACL操作\" class=\"headerlink\" title=\"入方向的ACL操作\"></a>入方向的ACL操作</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-6d383172498686b6a.png\"></p>\n<h3 id=\"出方向的ACL操作\"><a href=\"#出方向的ACL操作\" class=\"headerlink\" title=\"出方向的ACL操作\"></a>出方向的ACL操作</h3><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-7042aa1fa1369eb38.png\"></p>\n<h2 id=\"通配符\"><a href=\"#通配符\" class=\"headerlink\" title=\"通配符\"></a>通配符</h2><p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-8a0301b67a2235fc3.png\"></p>\n<ul>\n<li>0 表示严格匹配</li>\n<li>1 表示无所谓</li>\n</ul>\n<p><img src=\"https://cdn.sumi233.top/gh/huang233893/blog-image-bed/top/huang233893/imgs/blog/ACL-image-93289ca2dec660a11.png\"></p>\n<h3 id=\"通配符缩写\"><a href=\"#通配符缩写\" class=\"headerlink\" title=\"通配符缩写\"></a>通配符缩写</h3><p>192.168.1.1 0.0.0.0\t\t\t&#x3D; host 192.168.1.1</p>\n<ul>\n<li>精确匹配192.16.1.1这个IP</li>\n</ul>\n<hr>\n<p>0.0.0.0 255.255.255.255 \t\t&#x3D; any</p>\n<ul>\n<li>匹配所有ip</li>\n</ul>\n<h2 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# access-list access-list-number &#123;permit|deny&#125; source [wildcard mask]</span><br><span class=\"line\">Router(config-if)# ip access-group access-list-number &#123;in|out&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>编号选择1-99</li>\n<li>通配符若无，默认0.0.0.0</li>\n<li><code>no access-list _access-list-number_</code>将会删除整个ACL列表</li>\n<li>在接口中应用</li>\n<li>应用时关联入或出站方向</li>\n<li>默认出站</li>\n<li><code>no ip access-group _access-list-number_</code>可移除接口上应用的访问列表</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Router(config)# access-list access-list-number &#123;permit|deny&#125; protocol source source-wildcard [operator port] destination destination-wildcard [operator port] [established] [log]</span><br><span class=\"line\">Router(config-if)# ip access-group access-list-number &#123;in|out&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>在接口中应用</li>\n<li>应用时关联入或出站方向</li>\n</ul>\n","categories":[{"name":"思科","path":"api/categories/思科.json"}],"tags":[{"name":"网络","path":"api/tags/网络.json"},{"name":"CCNA","path":"api/tags/CCNA.json"}]}